"use strict";var phosphor;!function(t){var e;!function(t){var e;!function(t){function e(t,e,i,n){void 0===i&&(i=0),void 0===n&&(n=!1);var o=t.length;if(0===o)return-1;if(i=Math.floor(i),0>i&&(i=Math.max(0,i+o)),n)for(var r=0;o>r;++r){var s=(r+i)%o;if(t[s]===e)return s}else for(var r=i;o>r;++r)if(t[r]===e)return r;return-1}function i(t,e,i,n){void 0===i&&(i=-1),void 0===n&&(n=!1);var o=t.length;if(0===o)return-1;if(i=Math.floor(i),0>i?i+=o:i>=o&&(i=o-1),n)for(var r=o;r>0;--r){var s=((r+i)%o+o)%o;if(t[s]===e)return s}else for(var r=i;r>=0;--r)if(t[r]===e)return r;return-1}function n(t,e,i,n){void 0===i&&(i=0),void 0===n&&(n=!1);var o=t.length;if(0===o)return-1;if(i=Math.floor(i),0>i&&(i=Math.max(0,i+o)),n)for(var r=0;o>r;++r){var s=(r+i)%o;if(e(t[s],s))return s}else for(var r=i;o>r;++r)if(e(t[r],r))return r;return-1}function o(t,e,i,n){void 0===i&&(i=-1),void 0===n&&(n=!1);var o=t.length;if(0===o)return-1;if(i=Math.floor(i),0>i?i+=o:i>=o&&(i=o-1),n)for(var r=o;r>0;--r){var s=((r+i)%o+o)%o;if(e(t[s],s))return s}else for(var r=i;r>=0;--r)if(e(t[r],r))return r;return-1}function r(t,e,i,o){var r=n(t,e,i,o);return-1!==r?t[r]:void 0}function s(t,e,i,n){var r=o(t,e,i,n);return-1!==r?t[r]:void 0}function a(t,e,i){for(var n,o,r=0,s=t.length;s>0;)n=s>>1,o=r+n,i(t[o],e)<0?(r=o+1,s-=n+1):s=n;return r}function h(t,e,i){for(var n,o,r=0,s=t.length;s>0;)n=s>>1,o=r+n,i(t[o],e)>0?s=n:(r=o+1,s-=n+1);return r}function c(t,e,i){var n=a(t,e,i);return n===t.length?-1:0===i(t[n],e)?n:-1}function u(t,e,i){var n=h(t,e,i);return 0===n?-1:0===i(t[n-1],e)?n-1:-1}function l(t,e,i){var n=c(t,e,i);return-1!==n?t[n]:void 0}function p(t,e,i){var n=u(t,e,i);return-1!==n?t[n]:void 0}function d(t){for(var e=t.length,i=new Array(e),n=0;e>n;++n)i[n]=t[n];return i}function f(t,e,i){e=Math.floor(e);var n=t.length;0>e?e=Math.max(0,e+n):e>n&&(e=n);for(var o=n;o>e;--o)t[o]=t[o-1];return t[e]=i,e}function _(t,e,i){e=Math.floor(e);var n=t.length;if(0>e&&(e+=n),0>e||e>=n)return-1;if(i=Math.floor(i),0>i?i=Math.max(0,i+n):i>=n&&(i=n-1),e===i)return i;var o=t[e];if(e>i)for(var r=e;r>i;--r)t[r]=t[r-1];else for(var r=e;i>r;++r)t[r]=t[r+1];return t[i]=o,i}function v(t,e){e=Math.floor(e);var i=t.length;if(0>e&&(e+=i),0>e||e>=i)return void 0;for(var n=t[e],o=e+1;i>o;++o)t[o-1]=t[o];return t.pop(),n}function m(t,i){var n=e(t,i);return-1!==n&&v(t,n),n}function y(t,e,i){void 0===e&&(e=0),void 0===i&&(i=t.length);var n=t.length;if(1>=n)return t;for(e=Math.floor(e),0>e?e=Math.max(0,e+n):e>=n&&(e=n-1),i=Math.floor(i),0>i?i=Math.max(0,i+n):i>=n&&(i=n-1);i>e;){var o=t[e];t[e]=t[i],t[i]=o,e++,i--}return t}function g(t,e){var i=t.length;return 1>=i?t:(e=Math.floor(e),e>0?e%=i:0>e&&(e=(e%i+i)%i),0===e?t:(y(t,0,e-1),y(t,e,i-1),y(t,0,i-1),t))}t.indexOf=e,t.lastIndexOf=i,t.findIndex=n,t.findLastIndex=o,t.find=r,t.findLast=s,t.lowerBound=a,t.upperBound=h,t.binaryFindIndex=c,t.binaryFindLastIndex=u,t.binaryFind=l,t.binaryFindLast=p,t.copy=d,t.insert=f,t.move=_,t.removeAt=v,t.remove=m,t.reverse=y,t.rotate=g}(e=t.algorithm||(t.algorithm={}))}(e=t.collections||(t.collections={}))}(phosphor||(phosphor={}));var phosphor;!function(t){var e;!function(t){var e=function(){function t(t,e){var i=this;this._size=0,this._offset=0,this._array=new Array(Math.max(1,t)),e&&e.forEach(function(t){i.pushBack(t)})}return Object.defineProperty(t.prototype,"maxSize",{get:function(){return this._array.length},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this._size},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"front",{get:function(){return 0!==this._size?this._get(0):void 0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"back",{get:function(){return 0!==this._size?this._get(this._size-1):void 0},enumerable:!0,configurable:!0}),t.prototype.get=function(t){return 0>t||t>=this._size?void 0:this._get(t)},t.prototype.set=function(t,e){return 0>t||t>=this._size?!1:(this._set(t,e),!0)},t.prototype.pushBack=function(t){this._set(this._size,t),this._size===this._array.length?this._incr():this._size++},t.prototype.pushFront=function(t){this._decr(),this._set(0,t),this._size<this._array.length&&this._size++},t.prototype.popBack=function(){return 0===this._size?void 0:this._rem(--this._size)},t.prototype.popFront=function(){if(0===this._size)return void 0;var t=this._rem(0);return this._incr(),this._size--,t},t.prototype.clear=function(){for(var t=0,e=this._size;e>t;++t)this._set(t,void 0);this._size=0,this._offset=0},t.prototype.toArray=function(){for(var t=new Array(this._size),e=0,i=this._size;i>e;++e)t[e]=this._get(e);return t},t.prototype.some=function(t){for(var e=0;e<this._size;++e)if(t(this._get(e),e))return!0;return!1},t.prototype.every=function(t){for(var e=0;e<this._size;++e)if(!t(this._get(e),e))return!1;return!0},t.prototype.filter=function(t){for(var e,i=0;i<this._size;++i){var n=this._get(i);t(n,i)&&e.push(n)}return e},t.prototype.map=function(t){for(var e=new Array(this._size),i=0;i<this._size;++i)e[i]=t(this._get(i),i);return e},t.prototype.forEach=function(t){for(var e=0;e<this._size;++e){var i=t(this._get(e),e);if(void 0!==i)return i}return void 0},t.prototype._get=function(t){return this._array[(t+this._offset)%this._array.length]},t.prototype._set=function(t,e){this._array[(t+this._offset)%this._array.length]=e},t.prototype._rem=function(t){var e=(t+this._offset)%this._array.length,i=this._array[e];return this._array[e]=void 0,i},t.prototype._incr=function(){this._offset===this._array.length-1?this._offset=0:this._offset++},t.prototype._decr=function(){0===this._offset?this._offset=this._array.length-1:this._offset--},t}();t.CircularBuffer=e}(e=t.collections||(t.collections={}))}(phosphor||(phosphor={}));var phosphor;!function(t){var e;!function(t){var e=function(){function t(t){var e=this;this._size=0,this._front=null,this._back=null,t&&t.forEach(function(t){e.pushBack(t)})}return Object.defineProperty(t.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this._size},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"front",{get:function(){return null!==this._front?this._front.value:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"back",{get:function(){return null!==this._back?this._back.value:void 0},enumerable:!0,configurable:!0}),t.prototype.pushBack=function(t){var e={next:null,value:t};null===this._back?(this._front=e,this._back=e):(this._back.next=e,this._back=e),this._size++},t.prototype.popFront=function(){var t=this._front;return null===t?void 0:(null===t.next?(this._front=null,this._back=null):this._front=t.next,this._size--,t.value)},t.prototype.clear=function(){this._size=0,this._front=null,this._back=null},t.prototype.toArray=function(){for(var t=new Array(this._size),e=0,i=this._front;null!==i;i=i.next,++e)t[e]=i.value;return t},t.prototype.some=function(t){for(var e=0,i=this._front;null!==i;i=i.next,++e)if(t(i.value,e))return!0;return!1},t.prototype.every=function(t){for(var e=0,i=this._front;null!==i;i=i.next,++e)if(!t(i.value,e))return!1;return!0},t.prototype.filter=function(t){for(var e,i=0,n=this._front;null!==n;n=n.next,++i){var o=n.value;t(o,i)&&e.push(o)}return e},t.prototype.map=function(t){for(var e=new Array(this._size),i=0,n=this._front;null!==n;n=n.next,++i)e[i]=t(n.value,i);return e},t.prototype.forEach=function(t){for(var e=0,i=this._front;null!==i;i=i.next,++e){var n=t(i.value,e);if(void 0!==n)return n}return void 0},t}();t.Queue=e}(e=t.collections||(t.collections={}))}(phosphor||(phosphor={}));var phosphor;!function(t){var e;!function(t){function e(t,e){return null===t?-1:(e=Math.floor(e),e>=t.count?-1:0>e&&(e+=t.count,0>e)?-1:e)}function i(t,e,i){return i=Math.floor(i),0>=i?null:null===t?{index:-1,count:i}:(e=Math.floor(e),e=0>e?Math.max(0,e+t.count):Math.min(e,t.count),{index:e,count:i})}function n(t,e,i){if(null===t)return null;if(i=Math.floor(i),0>=i)return null;if(e=Math.floor(e),e>=t.count)return null;if(0>e&&(e+=t.count,0>e)){if(i+=e,0>=i)return null;e=0}return{index:e,count:Math.min(i,t.count-e)}}function o(t,e){return{count:t,size:e,level:0,left:null,right:null}}function r(t,e){var i=t.count+e.count,n=t.size+e.size,o=Math.max(t.level,e.level)+1;return{count:i,size:n,level:o,left:t,right:e}}function s(t,e,i){return t.count=e.count+i.count,t.size=e.size+i.size,t.level=Math.max(e.level,i.level)+1,t.left=e,t.right=i,t}function a(t,e){for(var i=0;0!==t.level;){var n=t.left;e<n.size?t=n:(t=t.right,i+=n.count,e-=n.size)}return i+Math.floor(e*t.count/t.size)}function h(t,e){for(var i=0;0!==t.level;){var n=t.left;e<n.count?t=n:(t=t.right,e-=n.count,i+=n.size)}return i+e*t.size/t.count}function c(t,e){for(;0!==t.level;){var i=t.left;e<i.count?t=i:(t=t.right,e-=i.count)}return t.size/t.count}function u(t,e,i,n){if(0===t.level){if(n===t.size/t.count)return t.count+=i,t.size+=i*n,t;if(0===e)return r(o(i,i*n),t);if(e>=t.count)return r(t,o(i,i*n));var a=t.count-e,h=t.size/t.count,c=o(i,i*n),l=o(a,a*h),d=o(e,e*h),f=r(c,l);return s(t,d,f)}return e<t.left.count?t.left=u(t.left,e,i,n):t.right=u(t.right,e-t.left.count,i,n),p(t)}function l(t,e,i){if(i===t.count)return null;if(0===t.level){var n=t.count-i,o=t.size/t.count;return t.size=n*o,t.count=n,t}if(e<t.left.count&&e+i>t.left.count){var r=t.left.count-e;t.left=l(t.left,e,r),t.right=l(t.right,0,i-r)}else e<t.left.count?t.left=l(t.left,e,i):t.right=l(t.right,e-t.left.count,i);if(null===t.left?t=t.right:null===t.right&&(t=t.left),t.level>0)do t=p(t);while(Math.abs(t.left.level-t.right.level)>1);return t}function p(t){var e=t.left,i=t.right,n=e.level-i.level;if(n>1){var o=e.left,r=e.right;o.level>r.level?(t.left=o,t.right=s(e,r,i)):(t.left=s(e,o,r.left),t.right=s(r,r.right,i))}else if(-1>n){var o=i.left,r=i.right;r.level>o.level?(t.right=r,t.left=s(i,e,o)):(t.right=s(i,o.right,r),t.left=s(o,e,o.left))}return s(t,t.left,t.right)}var d=function(){function t(){this._root=null}return Object.defineProperty(t.prototype,"count",{get:function(){return null!==this._root?this._root.count:0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return null!==this._root?this._root.size:0},enumerable:!0,configurable:!0}),t.prototype.indexOf=function(t){return null===this._root||0>t||t>=this._root.size?-1:a(this._root,t)},t.prototype.offsetOf=function(t){return t=e(this._root,t),0>t?-1:h(this._root,t)},t.prototype.sizeOf=function(t){return t=e(this._root,t),0>t?-1:c(this._root,t)},t.prototype.insert=function(t,e,n){var r=i(this._root,t,e);null!==r&&(this._root=r.index<0?o(r.count,r.count*Math.max(0,n)):u(this._root,r.index,r.count,Math.max(0,n)))},t.prototype.remove=function(t,e){var i=n(this._root,t,e);null!==i&&(this._root=l(this._root,i.index,i.count))},t.prototype.resize=function(t,e,i){var r=n(this._root,t,e);null!==r&&(this._root=l(this._root,r.index,r.count),this._root=null===this._root?o(r.count,r.count*Math.max(0,i)):u(this._root,r.index,r.count,Math.max(0,i)))},t}();t.SectionList=d}(e=t.collections||(t.collections={}))}(phosphor||(phosphor={}));var phosphor;!function(t){var e;!function(t){function e(t){var e=i,n=window.getComputedStyle(t),o=parseInt(n.minWidth,10)||e._mw,r=parseInt(n.minHeight,10)||e._mh,s=parseInt(n.maxWidth,10)||e._xw,a=parseInt(n.maxHeight,10)||e._xh,h=parseInt(n.borderTopWidth,10)||e._bt,c=parseInt(n.borderLeftWidth,10)||e._bl,u=parseInt(n.borderRightWidth,10)||e._br,l=parseInt(n.borderBottomWidth,10)||e._bb,p=parseInt(n.paddingTop,10)||e._pt,d=parseInt(n.paddingLeft,10)||e._pl,f=parseInt(n.paddingRight,10)||e._pr,_=parseInt(n.paddingBottom,10)||e._pb,v=Object.create(e);return o!==e._mw&&(v._mw=o),r!==e._mh&&(v._mh=r),s!==e._xw&&(v._xw=s),a!==e._xh&&(v._xh=a),h!==e._bt&&(v._bt=h),c!==e._bl&&(v._bl=c),u!==e._br&&(v._br=u),l!==e._bb&&(v._bb=l),p!==e._pt&&(v._pt=p),d!==e._pl&&(v._pl=d),f!==e._pr&&(v._pr=f),_!==e._pb&&(v._pb=_),v}t.createBoxSizing=e;var i={get minWidth(){return this._mw},get minHeight(){return this._mh},get maxWidth(){return this._xw},get maxHeight(){return this._xh},get borderTop(){return this._bt},get borderLeft(){return this._bl},get borderRight(){return this._br},get borderBottom(){return this._bb},get paddingTop(){return this._pt},get paddingLeft(){return this._pl},get paddingRight(){return this._pr},get paddingBottom(){return this._pb},get verticalSum(){return this._bt+this._bb+this._pt+this._pb},get horizontalSum(){return this._bl+this._br+this._pl+this._pr},_mw:0,_mh:0,_xw:1/0,_xh:1/0,_bt:0,_bl:0,_br:0,_bb:0,_pt:0,_pl:0,_pr:0,_pb:0}}(e=t.utility||(t.utility={}))}(phosphor||(phosphor={}));var phosphor;!function(t){var e;!function(t){function e(e){var o=n={},r=document.body;return r.style.cursor=e,r.classList.add(i),new t.Disposable(function(){o===n&&(n=null,r.style.cursor="",r.classList.remove(i))})}var i="p-mod-cursor-override",n=null;t.overrideCursor=e}(e=t.utility||(t.utility={}))}(phosphor||(phosphor={}));var phosphor;!function(t){var e;!function(t){var e=function(){function t(t){this._callback=t}return t.prototype.dispose=function(){var t=this._callback;this._callback=null,t&&t()},t}();t.Disposable=e}(e=t.utility||(t.utility={}))}(phosphor||(phosphor={}));var phosphor;!function(t){var e;!function(t){t.emptyObject=Object.freeze({}),t.emptyArray=Object.freeze([]),t.emptyFunction=function(){}}(e=t.utility||(t.utility={}))}(phosphor||(phosphor={}));var phosphor;!function(t){var e;!function(t){function e(t,e,i){var n=t.getBoundingClientRect();return e>=n.left&&e<n.right&&i>=n.top&&i<n.bottom}t.hitTest=e}(e=t.utility||(t.utility={}))}(phosphor||(phosphor={}));var phosphor;!function(t){var e;!function(t){var e=function(){function t(t,e){this.first=t,this.second=e}return t}();t.Pair=e}(e=t.utility||(t.utility={}))}(phosphor||(phosphor={}));var phosphor;!function(t){var e;!function(t){var e=function(){function t(t,e){this._x=t,this._y=e}return Object.defineProperty(t.prototype,"x",{get:function(){return this._x},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},enumerable:!0,configurable:!0}),t.prototype.equals=function(t){return this._x===t._x&&this._y===t._y},t.Zero=new t(0,0),t.Infinite=new t(1/0,1/0),t}();t.Point=e}(e=t.utility||(t.utility={}))}(phosphor||(phosphor={}));var phosphor;!function(t){var e;!function(t){var e=function(){function e(t,e,i,n){this._x=t,this._y=e,this._width=i,this._height=n}return Object.defineProperty(e.prototype,"x",{get:function(){return this._x},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this._y},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this._width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pos",{get:function(){return new t.Point(this._x,this._y)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return new t.Size(this._width,this._height)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"top",{get:function(){return this._y},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){return this._x},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){return this._x+this._width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bottom",{get:function(){return this._y+this._height},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"topLeft",{get:function(){return new t.Point(this._x,this._y)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"topRight",{get:function(){return new t.Point(this._x+this._width,this._y)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bottomLeft",{get:function(){return new t.Point(this._x,this._y+this._height)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bottomRight",{get:function(){return new t.Point(this._x+this._width,this._y+this._height)},enumerable:!0,configurable:!0}),e.prototype.equals=function(t){return this._x===t._x&&this._y===t._y&&this._width===t._width&&this._height===t._height},e}();t.Rect=e}(e=t.utility||(t.utility={}))}(phosphor||(phosphor={}));var phosphor;!function(t){var e;!function(t){var e=function(){function t(t,e){this._width=t,this._height=e}return Object.defineProperty(t.prototype,"width",{get:function(){return this._width},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},enumerable:!0,configurable:!0}),t.prototype.equals=function(t){return this._width===t._width&&this._height===t._height},t.Zero=new t(0,0),t.Infinite=new t(1/0,1/0),t}();t.Size=e}(e=t.utility||(t.utility={}))}(phosphor||(phosphor={}));var phosphor;!function(t){var e;!function(t){function e(){var e=document.documentElement,i=window.pageXOffset,n=window.pageYOffset,o=i+e.clientWidth,r=n+e.clientHeight;return new t.Rect(i,n,o,r)}t.clientViewportRect=e}(e=t.utility||(t.utility={}))}(phosphor||(phosphor={}));var phosphor;!function(t){var e;!function(t){var e=function(){function t(t){this._type=t}return Object.defineProperty(t.prototype,"type",{get:function(){return this._type},enumerable:!0,configurable:!0}),t}();t.Message=e}(e=t.core||(t.core={}))}(phosphor||(phosphor={}));var phosphor;!function(t){var e;!function(e){function i(t,e){c(t).sendMessage(e)}function n(t,e){c(t).postMessage(e)}function o(t){return c(t).hasPendingMessages()}function r(t){c(t).sendPendingMessage()}function s(t,e){c(t).installMessageFilter(e)}function a(t,e){c(t).removeMessageFilter(e)}function h(t){var e=f.get(t);void 0!==e&&(f["delete"](t),e.clearPendingMessages(),e.clearMessageFilters())}function c(t){var e=f.get(t);return void 0===e&&(e=new g(t),f.set(t,e)),e}function u(){0!==v||_.empty||(v=m(l))}function l(){if(v=0,!_.empty)for(null!==_.back&&_.pushBack(null);!_.empty;){var t=_.popFront();if(null===t)return void u();p(t)}}function p(t){try{t.sendPendingMessage()}catch(e){throw u(),e}}var d=t.collections.Queue;e.sendMessage=i,e.postMessage=n,e.hasPendingMessages=o,e.sendPendingMessage=r,e.installMessageFilter=s,e.removeMessageFilter=a,e.clearMessageData=h;var f=new WeakMap,_=new d,v=0,m=requestAnimationFrame,y=function(){function t(t){this._filter=t}return t.prototype.clear=function(){this._filter=null},t.prototype.equals=function(t){return this._filter===t},t.prototype.invoke=function(t,e){return this._filter?this._filter.filterMessage(t,e):!1},t}(),g=function(){function t(t){this._messages=null,this._filters=null,this._handler=t}return t.prototype.sendMessage=function(t){this._filterMessage(t)||this._handler.processMessage(t)},t.prototype.postMessage=function(t){this._compressMessage(t)||this._enqueueMessage(t)},t.prototype.hasPendingMessages=function(){return null!==this._messages&&!this._messages.empty},t.prototype.sendPendingMessage=function(){null===this._messages||this._messages.empty||this.sendMessage(this._messages.popFront())},t.prototype.clearPendingMessages=function(){null!==this._messages&&(this._messages.clear(),this._messages=null)},t.prototype.installMessageFilter=function(t){var e=new y(t),i=this._filters;null===i?this._filters=e:i instanceof y?this._filters=[i,e]:i.push(e)},t.prototype.removeMessageFilter=function(t){var e=this._filters;if(null!==e)if(e instanceof y)e.equals(t)&&(e.clear(),this._filters=null);else{for(var i=[],n=e,o=0,r=n.length;r>o;++o){var s=n[o];s.equals(t)?s.clear():i.push(s)}this._filters=0===i.length?null:1===i.length?i[0]:i}},t.prototype.clearMessageFilters=function(){var t=this._filters;if(null!==t)if(this._filters=null,t instanceof y)t.clear();else for(var e=t,i=0,n=e.length;n>i;++i)e[i].clear()},t.prototype._compressMessage=function(t){return void 0===this._handler.compressMessage?!1:null===this._messages||this._messages.empty?!1:this._handler.compressMessage(t,this._messages)},t.prototype._filterMessage=function(t){var e=this._filters;if(null===e)return!1;if(e instanceof y)return e.invoke(this._handler,t);for(var i=this._handler,n=e,o=n.length-1;o>=0;--o)if(n[o].invoke(i,t))return!0;return!1},t.prototype._enqueueMessage=function(t){null===this._messages&&(this._messages=new d),this._messages.pushBack(t),_.pushBack(this),u()},t}()}(e=t.core||(t.core={}))}(phosphor||(phosphor={}));var phosphor;!function(t){var e;!function(t){var e=function(){function t(){this._node=this.constructor.createNode()}return t.createNode=function(){return document.createElement("div")},t.prototype.dispose=function(){this._node=null},Object.defineProperty(t.prototype,"node",{get:function(){return this._node},enumerable:!0,configurable:!0}),t.prototype.hasClass=function(t){return this._node.classList.contains(t)},t.prototype.addClass=function(t){this._node.classList.add(t)},t.prototype.removeClass=function(t){this._node.classList.remove(t)},t}();t.NodeBase=e}(e=t.core||(t.core={}))}(phosphor||(phosphor={}));var phosphor;!function(t){var e;!function(t){function e(t,e){Object.defineProperty(t,e,{get:function(){return new d(this,e)}})}function i(){return y}function n(t){var e=v.get(t);if(e){for(var i in e)for(var n=e[i].first;null!==n;)p(n),n.callback=null,n.thisArg=null,n=n.nextReceiver;v["delete"](t)}}function o(t){var e=m.get(t);if(e){for(;null!==e;){var i=e.nextSender;e.callback=null,e.thisArg=null,e.prevSender=null,e.nextSender=null,e=i}m["delete"](t)}}function r(t){n(t),o(t)}function s(t,e,i,n){if(!t||!e||!i)return console.warn("null argument passed to `connect()`"),!1;n=n||void 0;var o=v.get(t);o||(o=Object.create(null),v.set(t,o));var r=o[e];if(r&&c(r,i,n))return!1;var s=new f;s.callback=i,s.thisArg=n,r?(r.last.nextReceiver=s,r.last=s):(r=new _,r.first=s,r.last=s,o[e]=r);var a=n||i,h=m.get(a);return h&&(h.prevSender=s,s.nextSender=h),m.set(a,s),!0}function a(t,e,i,n){if(!t||!e||!i)return console.warn("null argument passed to `disconnect()`"),!1;n=n||void 0;var o=v.get(t);if(!o)return!1;var r=o[e];if(!r)return!1;var s=c(r,i,n);return s?(p(s),s.callback=null,s.thisArg=null,!0):!1}function h(t,e,i){var n=v.get(t);if(n){var o=n[e];if(o){var r=y;y=t,o.refs++;try{var s=u(o,i)}finally{y=r,o.refs--}s&&0===o.refs&&l(o)}}}function c(t,e,i){for(var n=t.first;null!==n;){if(n.callback===e&&n.thisArg===i)return n;n=n.nextReceiver}return void 0}function u(t,e){for(var i=!1,n=t.last,o=t.first;null!==o&&(o.callback?o.callback.call(o.thisArg,e):i=!0,o!==n);)o=o.nextReceiver;return i}function l(t){for(var e,i=t.first;null!==i;){var n=i.nextReceiver;i.callback?e?(e.nextReceiver=i,e=i):(t.first=i,e=i):i.nextReceiver=null,i=n}e?(e.nextReceiver=null,t.last=e):(t.first=null,t.last=null)}function p(t){var e=t.thisArg||t.callback,i=t.prevSender,n=t.nextSender;null===i&&null===n?m["delete"](e):null===i?(m.set(e,n),n.prevSender=null):null===n?i.nextSender=null:(i.nextSender=n,n.prevSender=i),t.prevSender=null,t.nextSender=null}t.signal=e,t.sender=i,t.disconnectSender=n,t.disconnectReceiver=o,t.clearSignalData=r;var d=function(){function t(t,e){this._sender=t,this._name=e}return t.prototype.connect=function(t,e){return s(this._sender,this._name,t,e)},t.prototype.disconnect=function(t,e){return a(this._sender,this._name,t,e)},t.prototype.emit=function(t){h(this._sender,this._name,t)},t}(),f=function(){function t(){this.callback=null,this.thisArg=null,this.nextReceiver=null,this.nextSender=null,this.prevSender=null}return t}(),_=function(){function t(){this.refs=0,this.first=null,this.last=null}return t}(),v=new WeakMap,m=new WeakMap,y=null}(e=t.core||(t.core={}))}(phosphor||(phosphor={}));var phosphor;!function(t){var e;!function(t){var e=function(){function t(t){this._name=t}return Object.defineProperty(t.prototype,"name",{get:function(){return this._name},enumerable:!0,configurable:!0}),t}();t.Token=e}(e=t.di||(t.di={}))}(phosphor||(phosphor={}));var phosphor;!function(t){var e;!function(t){function e(t){if("transient"===t)return r;if("singleton"===t)return new s;if("perresolve"===t)return new a;throw new Error("invalid lifetime: "+t)}var i=function(){function t(){this._registry=new Map}return t.prototype.isRegistered=function(t){return this._registry.has(t)},t.prototype.registerType=function(t,i,n){if(this._registry.has(t))throw new Error("token is already registered");var o=e(n||"singleton");this._registry.set(t,{type:i,lifetime:o})},t.prototype.registerInstance=function(t,e){if(this._registry.has(t))throw new Error("token is already registered");var i=new s(e);this._registry.set(t,{type:null,lifetime:i})},t.prototype.resolve=function(t){return"function"==typeof t?this._resolveType(t,n++):this._resolveToken(t,n++)},t.prototype._resolveToken=function(t,e){var i=this._registry.get(t);if(void 0===i)throw new Error("`"+t.name+"` is not registered");var n=i.lifetime.get(e);return n?n:(n=this._resolveType(i.type,e),i.lifetime.set(e,n),n)},t.prototype._resolveType=function(t,e){var i=Object.create(t.prototype),n=t.$inject;if(!n||0===n.length)return t.call(i)||i;for(var o=[],r=0,s=n.length;s>r;++r)o[r]=this._resolveToken(n[r],e);return t.apply(i,o)||i},t}();t.Container=i;var n=0,o=function(){function t(){}return t.prototype.get=function(t){return null},t.prototype.set=function(t,e){},t}(),r=new o,s=function(){function t(t){void 0===t&&(t=null),this._val=t}return t.prototype.get=function(t){return this._val},t.prototype.set=function(t,e){this._val=e},t}(),a=function(){function t(){this._key=0,this._val=null}return t.prototype.get=function(t){return this._key===t?this._val:null},t.prototype.set=function(t,e){this._key=t,this._val=e},t}()}(e=t.di||(t.di={}))}(phosphor||(phosphor={}));var phosphor;!function(t){var e;!function(t){t.IContainer=new t.Token("phosphor.di.IContainer")}(e=t.di||(t.di={}))}(phosphor||(phosphor={}));var phosphor;!function(t){var e;!function(e){function i(t){return o.bind(void 0,t)}function n(t,e){for(var i=0,n=e.length;n>i;++i){var o=e[i];o&&t.push(o)}}function o(t,i){var o=null,a=null;i&&("string"==typeof i?a=[i]:i instanceof e.Elem?a=[i]:i instanceof Array?a=i.slice():o=i);var h=arguments.length;if(h>2){a=a||[];for(var c=2;h>c;++c){var u=arguments[c];u instanceof Array?n(a,u):u&&a.push(u)}}if(a)for(var c=0,l=a.length;l>c;++c){var u=a[c];"string"==typeof u&&(a[c]=new e.Elem(e.ElemType.Text,u,s,r))}o=o||s,a=a||r;var p;return p="string"==typeof t?new e.Elem(e.ElemType.Node,t,o,a):new e.Elem(e.ElemType.Component,t,o,a)}var r=t.utility.emptyArray,s=t.utility.emptyObject;e.createFactory=i}(e=t.virtualdom||(t.virtualdom={}))}(phosphor||(phosphor={}));var __extends=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);i.prototype=e.prototype,t.prototype=new i},phosphor;!function(t){var e;!function(e){var i=t.core.Message,n=t.core.NodeBase,o=t.core.clearMessageData,r=t.core.postMessage,s=t.core.sendMessage,a=t.utility.emptyArray,h=t.utility.emptyObject,c=new i("update-request"),u=function(t){function e(e,i){t.call(this),this._data=h,this._children=a,this._data=e,this._children=i}return __extends(e,t),e.prototype.dispose=function(){o(this),this._data=null,this._children=null,t.prototype.dispose.call(this)},Object.defineProperty(e.prototype,"data",{get:function(){return this._data},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"children",{get:function(){return this._children},enumerable:!0,configurable:!0}),e.prototype.init=function(t,e){this._data=t,this._children=e},e.prototype.update=function(t){void 0===t&&(t=!1),t?s(this,c):r(this,c)},e.prototype.processMessage=function(t){switch(t.type){case"update-request":this.onUpdateRequest(t);break;case"after-attach":this.onAfterAttach(t);break;case"before-detach":this.onBeforeDetach(t);break;case"before-move":this.onBeforeMove(t);break;case"after-move":this.onAfterMove(t)}},e.prototype.compressMessage=function(t,e){return"update-request"===t.type?e.some(function(e){return e.type===t.type}):!1},e.prototype.onUpdateRequest=function(t){},e.prototype.onAfterAttach=function(t){},e.prototype.onBeforeDetach=function(t){},e.prototype.onBeforeMove=function(t){},e.prototype.onAfterMove=function(t){},e}(n);e.BaseComponent=u}(e=t.virtualdom||(t.virtualdom={}))}(phosphor||(phosphor={}));var __extends=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);i.prototype=e.prototype,t.prototype=new i},phosphor;!function(t){var e;!function(e){var i=t.core.Message,n=t.core.sendMessage,o=t.utility.emptyObject,r=new i("before-render"),s=new i("after-render"),a=function(t){function i(){t.apply(this,arguments),this._refs=o}return __extends(i,t),i.createNode=function(){var t=document.createElement(this.tagName);return t.className=this.className,t},i.prototype.dispose=function(){this._refs=null,t.prototype.dispose.call(this)},Object.defineProperty(i.prototype,"refs",{get:function(){return this._refs},enumerable:!0,configurable:!0}),i.prototype.processMessage=function(e){switch(e.type){case"before-render":this.onBeforeRender(e);break;case"after-render":this.onAfterRender(e);break;default:t.prototype.processMessage.call(this,e)}},i.prototype.render=function(){return null},i.prototype.onUpdateRequest=function(t){n(this,r),this._refs=e.render(this.render(),this.node),n(this,s)},i.prototype.onBeforeRender=function(t){},i.prototype.onAfterRender=function(t){},i.tagName="div",i.className="",i}(e.BaseComponent);e.Component=a}(e=t.virtualdom||(t.virtualdom={}))}(phosphor||(phosphor={}));var phosphor;!function(t){var e;!function(t){t.dom={a:t.createFactory("a"),abbr:t.createFactory("abbr"),address:t.createFactory("address"),area:t.createFactory("area"),article:t.createFactory("article"),aside:t.createFactory("aside"),audio:t.createFactory("audio"),b:t.createFactory("b"),bdi:t.createFactory("bdi"),bdo:t.createFactory("bdo"),blockquote:t.createFactory("blockquote"),br:t.createFactory("br"),button:t.createFactory("button"),canvas:t.createFactory("canvas"),caption:t.createFactory("caption"),cite:t.createFactory("cite"),code:t.createFactory("code"),col:t.createFactory("col"),colgroup:t.createFactory("colgroup"),data:t.createFactory("data"),datalist:t.createFactory("datalist"),dd:t.createFactory("dd"),del:t.createFactory("del"),dfn:t.createFactory("dfn"),div:t.createFactory("div"),dl:t.createFactory("dl"),dt:t.createFactory("dt"),em:t.createFactory("em"),embed:t.createFactory("embed"),fieldset:t.createFactory("fieldset"),figcaption:t.createFactory("figcaption"),figure:t.createFactory("figure"),footer:t.createFactory("footer"),form:t.createFactory("form"),h1:t.createFactory("h1"),h2:t.createFactory("h2"),h3:t.createFactory("h3"),h4:t.createFactory("h4"),h5:t.createFactory("h5"),h6:t.createFactory("h6"),header:t.createFactory("header"),hr:t.createFactory("hr"),i:t.createFactory("i"),iframe:t.createFactory("iframe"),img:t.createFactory("img"),input:t.createFactory("input"),ins:t.createFactory("ins"),kbd:t.createFactory("kbd"),label:t.createFactory("label"),legend:t.createFactory("legend"),li:t.createFactory("li"),main:t.createFactory("main"),map:t.createFactory("map"),mark:t.createFactory("mark"),meter:t.createFactory("meter"),nav:t.createFactory("nav"),noscript:t.createFactory("noscript"),object:t.createFactory("object"),ol:t.createFactory("ol"),optgroup:t.createFactory("optgroup"),option:t.createFactory("option"),output:t.createFactory("output"),p:t.createFactory("p"),param:t.createFactory("param"),pre:t.createFactory("pre"),progress:t.createFactory("progress"),q:t.createFactory("q"),rp:t.createFactory("rp"),rt:t.createFactory("rt"),ruby:t.createFactory("ruby"),s:t.createFactory("s"),samp:t.createFactory("samp"),section:t.createFactory("section"),select:t.createFactory("select"),small:t.createFactory("small"),source:t.createFactory("source"),span:t.createFactory("span"),strong:t.createFactory("strong"),sub:t.createFactory("sub"),summary:t.createFactory("summary"),
sup:t.createFactory("sup"),table:t.createFactory("table"),tbody:t.createFactory("tbody"),td:t.createFactory("td"),textarea:t.createFactory("textarea"),tfoot:t.createFactory("tfoot"),th:t.createFactory("th"),thead:t.createFactory("thead"),time:t.createFactory("time"),title:t.createFactory("title"),tr:t.createFactory("tr"),track:t.createFactory("track"),u:t.createFactory("u"),ul:t.createFactory("ul"),"var":t.createFactory("var"),video:t.createFactory("video"),wbr:t.createFactory("wbr")}}(e=t.virtualdom||(t.virtualdom={}))}(phosphor||(phosphor={}));var phosphor;!function(t){var e;!function(t){!function(t){t[t.Text=0]="Text",t[t.Node=1]="Node",t[t.Component=2]="Component"}(t.ElemType||(t.ElemType={}));var e=(t.ElemType,function(){function t(t,e,i,n){this.type=t,this.tag=e,this.data=i,this.children=n}return t}());t.Elem=e}(e=t.virtualdom||(t.virtualdom={}))}(phosphor||(phosphor={}));var phosphor;!function(t){var e;!function(e){function i(t,e){var i;w++;try{i=n(t,e)}finally{w--}return 0===w&&r(),i}function n(t,e){var i=M.get(e)||b,n=o(t);return M.set(e,n),l(e,i,n),s(e,n)}function o(t){return t instanceof Array?t:t?[t]:b}function r(){for(;z.length>0;){var t=z.pop();y(t,O)}}function s(t,e){var i=Object.create(null);return a(t,e,i),i}function a(t,i,n){for(var o=t.firstChild,r=0,s=i.length;s>r;++r){var h=i[r];switch(h.type){case e.ElemType.Node:var c=h.data.ref;c&&(n[c]=o),a(o,h.children,n);break;case e.ElemType.Component:var c=h.data.ref;c&&(n[c]=S.get(o))}o=o.nextSibling}}function h(t,e){for(var i=t.firstChild,n=Object.create(null),o=0,r=e.length;r>o;++o){var s=e[o],a=s.data.key;a&&(n[a]=new g(s,i)),i=i.nextSibling}return n}function c(t){var i;switch(t.type){case e.ElemType.Text:i=document.createTextNode(t.tag);break;case e.ElemType.Node:i=document.createElement(t.tag),f(i,t.data),u(i,t.children);break;case e.ElemType.Component:var n=t.tag,o=new n(t.data,t.children);i=o.node,S.set(i,o),z.push(o),y(o,P);break;default:throw new Error("invalid element type")}return i}function u(t,e){for(var i=0,n=e.length;n>i;++i)t.appendChild(c(e[i]))}function l(t,i,n){if(i!==n){for(var o=h(t,i),r=v.copy(i),s=t.firstChild,a=n.length,u=0;a>u;++u)if(u>=r.length)t.appendChild(c(n[u]));else{var f=r[u],m=n[u],g=m.data.key;if(g&&g in o){var b=o[g];b.first!==f&&(v.move(r,v.indexOf(r,b.first,u),u),p(b.second,C),t.insertBefore(b.second,s),p(b.second,T),f=b.first,s=b.second)}if(f!==m){var x=f.data.key;if(x&&x!==g)v.insert(r,u,m),t.insertBefore(c(m),s);else if(f.type===m.type)if(m.type!==e.ElemType.Text)if(f.tag===m.tag)if(m.type!==e.ElemType.Node){var w=S.get(s);w.init(m.data,m.children),y(w,P),s=s.nextSibling}else _(s,f.data,m.data),l(s,f.children,m.children),s=s.nextSibling;else v.insert(r,u,m),t.insertBefore(c(m),s);else s.textContent=m.tag,s=s.nextSibling;else v.insert(r,u,m),t.insertBefore(c(m),s)}else s=s.nextSibling}for(var u=r.length-1;u>=a;--u){var z=t.lastChild;p(z,I),t.removeChild(z),d(z)}}}function p(t,e){if(1===t.nodeType){var i=S.get(t);i&&y(i,e)}for(var n=t.firstChild;n;n=n.nextSibling)p(n,e)}function d(t){if(1===t.nodeType){var e=S.get(t);e&&e.dispose()}for(var i=t.firstChild;i;i=i.nextSibling)d(i)}function f(t,e){for(var i in e){var n=k[i];0===n||2===n?t[i]=e[i]:1===n&&t.setAttribute(i.toLowerCase(),e[i])}var o=e.dataset;if(o)for(var i in o)t.setAttribute("data-"+i,o[i]);var r=e.style;if(r){var s=t.style;for(var i in r)s[i]=r[i]}}function _(t,e,i){if(e!==i){for(var n in e)if(!(n in i)){var o=k[n];0===o?t.removeAttribute(n):1===o?t.removeAttribute(n.toLowerCase()):2===o&&(t[n]=null)}for(var n in i){var r=i[n];if(e[n]!==r){var o=k[n];0===o||2===o?t[n]=r:1===o&&t.setAttribute(n.toLowerCase(),r)}}var s=e.dataset||x,a=i.dataset||x;if(s!==a){for(var n in s)n in a||t.removeAttribute("data-"+n);for(var n in a){var r=a[n];s[n]!==r&&t.setAttribute("data-"+n,r)}}var h=e.style||x,c=i.style||x;if(h!==c){var u=t.style;for(var n in h)n in c||(u[n]="");for(var n in c){var r=c[n];h[n]!==r&&(u[n]=r)}}}}var v=t.collections.algorithm,m=t.core.Message,y=t.core.sendMessage,g=t.utility.Pair,b=t.utility.emptyArray,x=t.utility.emptyObject;e.render=i;var w=0,z=[],M=new WeakMap,S=new WeakMap,P=new m("update-request"),O=new m("after-attach"),I=new m("before-detach"),C=new m("before-move"),T=new m("after-move"),k={accept:0,acceptCharset:0,accessKey:0,action:0,allowFullscreen:1,alt:0,autocomplete:0,autofocus:0,autoplay:0,checked:0,cite:0,className:0,colSpan:0,cols:0,contentEditable:0,controls:0,coords:0,crossOrigin:0,data:0,dateTime:0,"default":0,dir:0,dirName:0,disabled:0,download:0,draggable:0,enctype:0,form:1,formAction:0,formEnctype:0,formMethod:0,formNoValidate:0,formTarget:0,headers:0,height:0,hidden:0,high:0,href:0,hreflang:0,htmlFor:0,id:0,inputMode:0,isMap:0,kind:0,label:0,lang:0,list:1,loop:0,low:0,max:0,maxLength:0,media:1,mediaGroup:0,method:0,min:0,minLength:0,multiple:0,muted:0,name:0,noValidate:0,optimum:0,pattern:0,placeholder:0,poster:0,preload:0,readOnly:0,rel:0,required:0,reversed:0,rowSpan:0,rows:0,sandbox:0,scope:0,seamless:1,selected:0,shape:0,size:0,sizes:1,sorted:0,span:0,spellcheck:0,src:0,srcdoc:0,srclang:0,srcset:1,start:0,step:0,tabIndex:0,target:0,title:0,type:0,typeMustMatch:0,useMap:0,value:0,volume:0,width:0,wrap:0,onabort:2,onbeforecopy:2,onbeforecut:2,onbeforepaste:2,onblur:2,oncanplay:2,oncanplaythrough:2,onchange:2,onclick:2,oncontextmenu:2,oncopy:2,oncuechange:2,oncut:2,ondblclick:2,ondrag:2,ondragend:2,ondragenter:2,ondragleave:2,ondragover:2,ondragstart:2,ondrop:2,ondurationchange:2,onended:2,onemptied:2,onerror:2,onfocus:2,onhelp:2,oninput:2,onkeydown:2,onkeypress:2,onkeyup:2,onload:2,onloadeddata:2,onloadedmetadata:2,onloadstart:2,onmousedown:2,onmouseenter:2,onmouseleave:2,onmousemove:2,onmouseout:2,onmouseover:2,onmouseup:2,onmousewheel:2,onpaste:2,onpause:2,onplay:2,onplaying:2,onprogress:2,onratechange:2,onreadystatechange:2,onreset:2,onscroll:2,onseeked:2,onseeking:2,onselect:2,onselectstart:2,onstalled:2,onsubmit:2,onsuspend:2,ontimeupdate:2,onvolumechange:2,onwaiting:2}}(e=t.virtualdom||(t.virtualdom={}))}(phosphor||(phosphor={}));var phosphor;!function(t){var e;!function(t){!function(t){t[t.Left=1]="Left",t[t.Right=2]="Right",t[t.HorizontalCenter=4]="HorizontalCenter",t[t.Top=16]="Top",t[t.Bottom=32]="Bottom",t[t.VerticalCenter=64]="VerticalCenter",t[t.Center=68]="Center",t[t.Horizontal_Mask=7]="Horizontal_Mask",t[t.Vertical_Mask=112]="Vertical_Mask"}(t.Alignment||(t.Alignment={}));t.Alignment}(e=t.widgets||(t.widgets={}))}(phosphor||(phosphor={}));var __extends=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);i.prototype=e.prototype,t.prototype=new i},phosphor;!function(t){var e;!function(e){var i=t.core.Message,n=function(t){function e(e,i){t.call(this,e),this._child=i}return __extends(e,t),Object.defineProperty(e.prototype,"child",{get:function(){return this._child},enumerable:!0,configurable:!0}),e}(i);e.ChildMessage=n}(e=t.widgets||(t.widgets={}))}(phosphor||(phosphor={}));var phosphor;!function(t){var e;!function(t){!function(t){t[t.LeftToRight=0]="LeftToRight",t[t.RightToLeft=1]="RightToLeft",t[t.TopToBottom=2]="TopToBottom",t[t.BottomToTop=3]="BottomToTop"}(t.Direction||(t.Direction={}));t.Direction}(e=t.widgets||(t.widgets={}))}(phosphor||(phosphor={}));var phosphor;!function(t){var e;!function(t){!function(t){t[t.Top=0]="Top",t[t.Left=1]="Left",t[t.Right=2]="Right",t[t.Bottom=3]="Bottom",t[t.SplitTop=4]="SplitTop",t[t.SplitLeft=5]="SplitLeft",t[t.SplitRight=6]="SplitRight",t[t.SplitBottom=7]="SplitBottom",t[t.TabBefore=8]="TabBefore",t[t.TabAfter=9]="TabAfter"}(t.DockMode||(t.DockMode={}));t.DockMode}(e=t.widgets||(t.widgets={}))}(phosphor||(phosphor={}));var __extends=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);i.prototype=e.prototype,t.prototype=new i},phosphor;!function(t){var e;!function(e){var i=t.core.Message,n=function(t){function e(e,i,n,o){t.call(this,"move"),this._oldX=e,this._oldY=i,this._x=n,this._y=o}return __extends(e,t),Object.defineProperty(e.prototype,"oldX",{get:function(){return this._oldX},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"oldY",{get:function(){return this._oldY},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"x",{get:function(){return this._x},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this._y},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"deltaX",{get:function(){return this._x-this._oldX},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"deltaY",{get:function(){return this._y-this._oldY},enumerable:!0,configurable:!0}),e}(i);e.MoveMessage=n}(e=t.widgets||(t.widgets={}))}(phosphor||(phosphor={}));var phosphor;!function(t){var e;!function(t){!function(t){t[t.Horizontal=0]="Horizontal",t[t.Vertical=1]="Vertical"}(t.Orientation||(t.Orientation={}));t.Orientation}(e=t.widgets||(t.widgets={}))}(phosphor||(phosphor={}));var __extends=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);i.prototype=e.prototype,t.prototype=new i},phosphor;!function(t){var e;!function(e){var i=t.core.Message,n=function(t){function e(e,i,n,o){t.call(this,"resize"),this._oldWidth=e,this._oldHeight=i,this._width=n,this._height=o}return __extends(e,t),Object.defineProperty(e.prototype,"oldWidth",{get:function(){return this._oldWidth},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"oldHeight",{get:function(){return this._oldHeight},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this._width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"deltaWidth",{get:function(){return this._width-this._oldWidth},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"deltaHeight",{get:function(){return this._height-this._oldHeight},enumerable:!0,configurable:!0}),e}(i);e.ResizeMessage=n}(e=t.widgets||(t.widgets={}))}(phosphor||(phosphor={}));var phosphor;!function(t){var e;!function(t){!function(t){t[t.Fixed=0]="Fixed",t[t.GrowFlag=1]="GrowFlag",t[t.ShrinkFlag=2]="ShrinkFlag",t[t.ExpandFlag=4]="ExpandFlag",t[t.IgnoreFlag=8]="IgnoreFlag",t[t.Minimum=1]="Minimum",t[t.Maximum=2]="Maximum",t[t.Preferred=3]="Preferred",t[t.Expanding=7]="Expanding",t[t.MinimumExpanding=5]="MinimumExpanding",t[t.Ignored=11]="Ignored"}(t.SizePolicy||(t.SizePolicy={}));t.SizePolicy}(e=t.widgets||(t.widgets={}))}(phosphor||(phosphor={}));var phosphor;!function(t){var e;!function(t){!function(t){t[t.IsAttached=1]="IsAttached",t[t.IsHidden=2]="IsHidden",t[t.IsVisible=4]="IsVisible",t[t.IsDisposed=8]="IsDisposed",t[t.DisallowLayoutChange=16]="DisallowLayoutChange"}(t.WidgetFlag||(t.WidgetFlag={}));t.WidgetFlag}(e=t.widgets||(t.widgets={}))}(phosphor||(phosphor={}));var phosphor;!function(t){var e;!function(e){var i=t.core.Message,n=t.core.clearSignalData,o=t.core.postMessage,r=new i("layout-request"),s=function(){function t(){this._parent=null}return t.prototype.dispose=function(){n(this),this._parent=null},Object.defineProperty(t.prototype,"parent",{get:function(){return this._parent},set:function(t){if(!t)throw new Error("cannot set parent widget to null");if(t!==this._parent){if(this._parent)throw new Error("layout already installed on a widget");this._parent=t,this.reparentChildWidgets(),this.invalidate()}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"count",{get:function(){throw new Error("not implemented")},enumerable:!0,configurable:!0}),t.prototype.itemAt=function(t){throw new Error("not implemented")},t.prototype.removeAt=function(t){throw new Error("not implemented")},t.prototype.sizeHint=function(){throw new Error("not implemented")},t.prototype.minSize=function(){throw new Error("not implemented")},t.prototype.maxSize=function(){throw new Error("not implemented")},t.prototype.widgetAt=function(t){var e=this.itemAt(t);return e&&e.widget||void 0},t.prototype.indexOf=function(t){for(var e=0,i=this.count;i>e;++e){var n=this.itemAt(e);if(n===t||n.widget===t)return e}return-1},t.prototype.remove=function(t){var e=this.indexOf(t);return-1!==e&&this.removeAt(e),e},t.prototype.alignment=function(t){var e=this.indexOf(t);return-1===e?0:this.itemAt(e).alignment},t.prototype.setAlignment=function(t,e){var i=this.indexOf(t);if(-1===i)return!1;var n=this.itemAt(i);return n.alignment!==e&&(n.alignment=e,this.invalidate()),!0},t.prototype.invalidate=function(){var t=this._parent;t&&(o(t,r),t.updateGeometry())},t.prototype.refresh=function(){var t=this._parent;if(t&&t.isVisible){var e=t.boxSizing,i=e.paddingLeft,n=e.paddingTop,o=t.width-e.horizontalSum,r=t.height-e.verticalSum;this.layout(i,n,o,r)}},t.prototype.filterMessage=function(t,e){return t===this._parent&&this.processParentMessage(e),!1},t.prototype.processParentMessage=function(t){switch(t.type){case"resize":case"layout-request":this.refresh();break;case"child-removed":this.remove(t.child);break;case"before-attach":this.invalidate()}},t.prototype.layout=function(t,e,i,n){},t.prototype.ensureParent=function(t){var e=this._parent;e&&(t.parent=e)},t.prototype.reparentChildWidgets=function(){var t=this._parent;if(t)for(var e=0,i=this.count;i>e;++e){var n=this.itemAt(e).widget;n&&(n.parent=t)}},t}();e.Layout=s}(e=t.widgets||(t.widgets={}))}(phosphor||(phosphor={}));var phosphor;!function(t){var e;!function(t){function e(t,e){var i=t.length;if(0!==i){for(var n=0,o=0,r=0,s=0,a=0,h=0,c=0;i>c;++c){var u=t[c],l=u.minSize,p=u.maxSize,d=Math.max(l,Math.min(u.sizeHint,p));u.done=!1,u.size=d,r+=d,n+=l,o+=p,u.stretch>0&&(s+=u.stretch,a++),u.expansive&&h++}if(e!==r)if(n>=e)for(var c=0;i>c;++c){var u=t[c];u.size=u.minSize}else if(e>=o)for(var c=0;i>c;++c){var u=t[c];u.size=u.maxSize}else{var f=.01,_=i;if(r>e){for(var v=r-e;a>0&&v>f;)for(var m=v,y=s,c=0;i>c;++c){var u=t[c];if(!u.done&&0!==u.stretch){var g=u.stretch*m/y;u.size-g<=u.minSize?(v-=u.size-u.minSize,s-=u.stretch,u.size=u.minSize,u.done=!0,_--,a--):(v-=g,u.size-=g)}}for(;_>0&&v>f;)for(var g=v/_,c=0;i>c;++c){var u=t[c];u.done||(u.size-g<=u.minSize?(v-=u.size-u.minSize,u.size=u.minSize,u.done=!0,_--):(v-=g,u.size-=g))}}else{for(var v=e-r;a>0&&v>f;)for(var m=v,y=s,c=0;i>c;++c){var u=t[c];if(!u.done&&0!==u.stretch){var g=u.stretch*m/y;u.size+g>=u.maxSize?(v-=u.maxSize-u.size,s-=u.stretch,u.size=u.maxSize,u.done=!0,_--,a--,u.expansive&&h--):(v-=g,u.size+=g)}}for(;h>0&&v>f;)for(var g=v/h,c=0;i>c;++c){var u=t[c];!u.done&&u.expansive&&(u.size+g>=u.maxSize?(v-=u.maxSize-u.size,u.size=u.maxSize,u.done=!0,h--,_--):(v-=g,u.size+=g))}for(;_>0&&v>f;)for(var g=v/_,c=0;i>c;++c){var u=t[c];u.done||(u.size+g>=u.maxSize?(v-=u.maxSize-u.size,u.size=u.maxSize,u.done=!0,_--):(v-=g,u.size+=g))}}}}}var i=function(){function t(){this.sizeHint=0,this.minSize=0,this.maxSize=1/0,this.stretch=1,this.expansive=!1,this.size=0,this.done=!1}return t}();t.LayoutSizer=i,t.layoutCalc=e}(e=t.widgets||(t.widgets={}))}(phosphor||(phosphor={}));var phosphor;!function(t){var e;!function(e){var i=t.utility.Size,n=function(){function t(t,e,i,n){this.setSizing(t,e,i,n)}return Object.defineProperty(t.prototype,"isWidget",{get:function(){return!1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isSpacer",{get:function(){return!0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isHidden",{get:function(){return!1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"widget",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"alignment",{get:function(){return 0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"expandHorizontal",{get:function(){var t=this._sizePolicy>>16;return 0!==(t&e.SizePolicy.ExpandFlag)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"expandVertical",{get:function(){var t=65535&this._sizePolicy;return 0!==(t&e.SizePolicy.ExpandFlag)},enumerable:!0,configurable:!0}),t.prototype.setSizing=function(t,e,n,o){var r=Math.max(0,t),s=Math.max(0,e);this._size=new i(r,s),this._sizePolicy=n<<16|o},t.prototype.transpose=function(){var t=this._size,e=this._sizePolicy>>16,n=65535&this._sizePolicy;this._size=new i(t.height,t.width),this._sizePolicy=n<<16|e},t.prototype.invalidate=function(){},t.prototype.sizeHint=function(){return this._size},t.prototype.minSize=function(){var t=this._size,n=this._sizePolicy>>16,o=65535&this._sizePolicy,r=n&e.SizePolicy.ShrinkFlag?0:t.width,s=o&e.SizePolicy.ShrinkFlag?0:t.height;return new i(r,s)},t.prototype.maxSize=function(){var t=this._size,n=this._sizePolicy>>16,o=65535&this._sizePolicy,r=n&e.SizePolicy.GrowFlag?1/0:t.width,s=o&e.SizePolicy.GrowFlag?1/0:t.height;return new i(r,s)},t.prototype.setGeometry=function(t,e,i,n){},t}();e.SpacerItem=n}(e=t.widgets||(t.widgets={}))}(phosphor||(phosphor={}));var phosphor;!function(t){var e;!function(e){var i=t.utility.Size,n=function(){function t(t,e){void 0===e&&(e=0),this._origHint=null,this._sizeHint=null,this._minSize=null,this._maxSize=null,this._widget=t,this._alignment=e}return Object.defineProperty(t.prototype,"isWidget",{get:function(){return!0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isSpacer",{get:function(){return!1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isHidden",{get:function(){return this._widget.isHidden},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"widget",{get:function(){return this._widget},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"alignment",{get:function(){return this._alignment},set:function(t){this._alignment=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"expandHorizontal",{get:function(){if(this._alignment&e.Alignment.Horizontal_Mask)return!1;var t=this._widget.horizontalSizePolicy;return 0!==(t&e.SizePolicy.ExpandFlag)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"expandVertical",{get:function(){if(this._alignment&e.Alignment.Vertical_Mask)return!1;var t=this._widget.verticalSizePolicy;return 0!==(t&e.SizePolicy.ExpandFlag)},enumerable:!0,configurable:!0}),t.prototype.invalidate=function(){this._origHint=null,this._sizeHint=null,this._minSize=null,this._maxSize=null},t.prototype.sizeHint=function(){return this._sizeHint||this._updateSizes(),this._sizeHint},t.prototype.minSize=function(){return this._minSize||this._updateSizes(),this._minSize},t.prototype.maxSize=function(){return this._maxSize||this._updateSizes(),this._maxSize},t.prototype.setGeometry=function(t,i,n,o){var r=this._widget;if(!r.isHidden){var s=n,a=o,h=this._alignment;if(h&e.Alignment.Horizontal_Mask){var c=r.horizontalSizePolicy===e.SizePolicy.Ignored;s=Math.min(s,c?this._origHint.width:this._sizeHint.width)}if(h&e.Alignment.Vertical_Mask){var u=r.verticalSizePolicy===e.SizePolicy.Ignored;a=Math.min(a,u?this._origHint.height:this._sizeHint.height)}var l=this._minSize,p=this._maxSize;s=Math.max(l.width,Math.min(s,p.width)),a=Math.max(l.height,Math.min(a,p.height)),h&e.Alignment.Right?t+=n-s:h&e.Alignment.HorizontalCenter&&(t+=(n-s)/2),h&e.Alignment.Bottom?i+=o-a:h&e.Alignment.VerticalCenter&&(i+=(o-a)/2),r.setGeometry(t,i,s,a)}},t.prototype._updateSizes=function(){var t=this._widget;if(t.isHidden)return this._origHint=i.Zero,this._sizeHint=i.Zero,this._minSize=i.Zero,void(this._maxSize=i.Zero);var n=t.boxSizing,o=t.sizeHint(),r=t.minSizeHint(),s=t.maxSizeHint(),a=t.verticalSizePolicy,h=t.horizontalSizePolicy,c=0,u=0;h!==e.SizePolicy.Ignored&&(c=Math.max(r.width,o.width)),a!==e.SizePolicy.Ignored&&(u=Math.max(r.height,o.height)),c=Math.max(n.minWidth,Math.min(c,n.maxWidth)),u=Math.max(n.minHeight,Math.min(u,n.maxHeight));var l=0,p=0;h!==e.SizePolicy.Ignored&&(l=h&e.SizePolicy.ShrinkFlag?r.width:Math.max(r.width,o.width)),a!==e.SizePolicy.Ignored&&(p=a&e.SizePolicy.ShrinkFlag?r.height:Math.max(r.height,o.height)),l=Math.max(n.minWidth,Math.min(l,n.maxWidth)),p=Math.max(n.minHeight,Math.min(p,n.maxHeight));var d=1/0,f=1/0,_=this._alignment;_&e.Alignment.Horizontal_Mask||(h!==e.SizePolicy.Ignored&&(d=h&e.SizePolicy.GrowFlag?Math.max(r.width,s.width):Math.max(r.width,o.width)),d=Math.max(n.minWidth,Math.min(d,n.maxWidth))),_&e.Alignment.Vertical_Mask||(a!==e.SizePolicy.Ignored&&(f=a&e.SizePolicy.GrowFlag?Math.max(r.height,s.height):Math.max(r.height,o.height)),f=Math.max(n.minHeight,Math.min(f,n.maxHeight))),this._origHint=o,this._sizeHint=new i(c,u),this._minSize=new i(l,p),this._maxSize=new i(d,f)},t}();e.WidgetItem=n}(e=t.widgets||(t.widgets={}))}(phosphor||(phosphor={}));var __extends=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);i.prototype=e.prototype,t.prototype=new i},phosphor;!function(t){var e;!function(e){function i(t){return t===e.Direction.LeftToRight||t===e.Direction.RightToLeft}var n=t.collections.algorithm,o=t.utility.Size,r=function(t){function r(e,i){void 0===i&&(i=8),t.call(this),this._dirty=!0,this._fixedSpace=0,this._lastSpaceIndex=-1,this._minSize=null,this._maxSize=null,this._sizeHint=null,this._items=[],this._sizers=[],this._direction=e,this._spacing=Math.max(0,i)}return __extends(r,t),r.prototype.dispose=function(){this._items=null,this._sizers=null,t.prototype.dispose.call(this)},Object.defineProperty(r.prototype,"direction",{get:function(){return this._direction},set:function(t){t!==this._direction&&(i(this._direction)!==i(t)&&this._items.forEach(function(t){t instanceof e.SpacerItem&&t.transpose()}),this._direction=t,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"spacing",{get:function(){return this._spacing},set:function(t){t=Math.max(0,t),t!==this._spacing&&(this._spacing=t,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"count",{get:function(){return this._items.length},enumerable:!0,configurable:!0}),r.prototype.itemAt=function(t){return this._items[t]},r.prototype.removeAt=function(t){var e=n.removeAt(this._items,t);return n.removeAt(this._sizers,t),e&&this.invalidate(),e},r.prototype.addWidget=function(t,e,i){return this.insertWidget(this.count,t,e,i)},r.prototype.insertWidget=function(t,i,n,o){return void 0===n&&(n=0),void 0===o&&(o=0),this.remove(i),this.ensureParent(i),this._insert(t,new e.WidgetItem(i,o),n)},r.prototype.addSpacing=function(t){return this.insertSpacing(this.count,t)},r.prototype.insertSpacing=function(t,n){var o;return o=i(this._direction)?new e.SpacerItem(n,0,e.SizePolicy.Fixed,e.SizePolicy.Minimum):new e.SpacerItem(0,n,e.SizePolicy.Minimum,e.SizePolicy.Fixed),this._insert(t,o,0)},r.prototype.addStretch=function(t){return this.insertStretch(this.count,t)},r.prototype.insertStretch=function(t,n){var o;return o=i(this._direction)?new e.SpacerItem(0,0,e.SizePolicy.Expanding,e.SizePolicy.Minimum):new e.SpacerItem(0,0,e.SizePolicy.Minimum,e.SizePolicy.Expanding),this._insert(t,o,n)},r.prototype.stretch=function(t){var e="number"==typeof t?t:this.indexOf(t),i=this._sizers[e];return i?i.stretch:-1},r.prototype.setStretch=function(t,e){var i="number"==typeof t?t:this.indexOf(t),n=this._sizers[i];return n?(e=Math.max(0,Math.floor(e)),n.stretch!==e&&(n.stretch=e,this.invalidate()),!0):!1},r.prototype.invalidate=function(){this._dirty=!0,t.prototype.invalidate.call(this)},r.prototype.sizeHint=function(){return this._dirty&&this._setupGeometry(),this._sizeHint},r.prototype.minSize=function(){return this._dirty&&this._setupGeometry(),this._minSize},r.prototype.maxSize=function(){return this._dirty&&this._setupGeometry(),this._maxSize},r.prototype.layout=function(t,n,o,r){var s=this._items;if(0!==s.length){this._dirty&&this._setupGeometry();var a=this._direction,h=this._sizers,c=this._lastSpaceIndex,u=i(a)?o:r;e.layoutCalc(h,Math.max(0,u-this._fixedSpace));var l=!1,p=this._spacing,d=s.length;if(a===e.Direction.LeftToRight)for(var f=0;d>f;++f){var _=s[f];if(!_.isHidden){l&&c>=f&&(t+=p);var v=h[f].size;_.setGeometry(t,n,v,r),l=_.isWidget,t+=v}}else if(a===e.Direction.TopToBottom)for(var f=0;d>f;++f){var _=s[f];if(!_.isHidden){l&&c>=f&&(n+=p);var v=h[f].size;_.setGeometry(t,n,o,v),l=_.isWidget,n+=v}}else if(a===e.Direction.RightToLeft){t+=o;for(var f=0;d>f;++f){var _=s[f];if(!_.isHidden){l&&c>=f&&(t-=p);var v=h[f].size;_.setGeometry(t-v,n,v,r),l=_.isWidget,t-=v}}}else{n+=r;for(var f=0;d>f;++f){var _=s[f];if(!_.isHidden){l&&c>=f&&(n-=p);var v=h[f].size;_.setGeometry(t,n-v,o,v),l=_.isWidget,n-=v}}}}},r.prototype._setupGeometry=function(){if(this._dirty){this._dirty=!1;var t=this.parent;if(!t)return this._sizeHint=o.Zero,this._minSize=o.Zero,this._maxSize=o.Zero,void(this._fixedSpace=0);for(var e=-1,n=this._items,r=n.length,s=0;r>s;++s){var a=n[s];a.invalidate(),a.isWidget&&!a.isHidden&&(e=s)}var h,c,u=0,l=0,p=0,d=0,f=0,_=!1,v=this._direction,m=this._spacing,y=this._sizers;if(i(v)){c=1/0,h=r>0?0:1/0;for(var s=0;r>s;++s){var a=n[s],g=y[s];if(a.isHidden)g.sizeHint=0,g.minSize=0,g.maxSize=0,g.expansive=!1;else{var b=a.sizeHint(),x=a.minSize(),w=a.maxSize();l=Math.max(l,b.height),d=Math.max(d,x.height),c=Math.min(c,w.height),u+=b.width,p+=x.width,h+=w.width,g.sizeHint=b.width,g.minSize=x.width,g.maxSize=w.width,g.expansive=a.expandHorizontal,_&&e>=s&&(f+=m),_=a.isWidget}}u+=f,p+=f,h+=f}else{h=1/0,c=r>0?0:1/0;for(var s=0;r>s;++s){var a=n[s],g=y[s];if(a.isHidden)g.sizeHint=0,g.minSize=0,g.maxSize=0,g.expansive=!1;else{var b=a.sizeHint(),x=a.minSize(),w=a.maxSize();u=Math.max(u,b.width),p=Math.max(p,x.width),h=Math.min(h,w.width),l+=b.height,d+=x.height,c+=w.height,g.sizeHint=b.height,g.minSize=x.height,g.maxSize=w.height,g.expansive=a.expandVertical,_&&e>=s&&(f+=m),_=a.isWidget}}l+=f,d+=f,c+=f}var z=t.boxSizing,M=z.horizontalSum,S=z.verticalSum;u+=M,l+=S,p+=M,d+=S,h+=M,c+=S,this._sizeHint=new o(u,l),this._minSize=new o(p,d),this._maxSize=new o(h,c),this._fixedSpace=f,this._lastSpaceIndex=e}},r.prototype._insert=function(t,i,o){var r=new e.LayoutSizer;return r.stretch=Math.max(0,Math.floor(o)),t=n.insert(this._items,t,i),n.insert(this._sizers,t,r),this.invalidate(),t},r}(e.Layout);e.BoxLayout=r}(e=t.widgets||(t.widgets={}))}(phosphor||(phosphor={}));var __extends=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);i.prototype=e.prototype,t.prototype=new i},phosphor;!function(t){var e;!function(e){var i=t.core.NodeBase,n="p-SplitHandle",o="p-SplitHandle-overlay",r="p-mod-horizontal",s="p-mod-vertical",a="p-mod-hidden",h=function(t){function i(i){t.call(this),this._hidden=!1,this.addClass(n),this._orientation=i,this.addClass(i===e.Orientation.Horizontal?r:s)}return __extends(i,t),i.createNode=function(){var t=document.createElement("div"),e=document.createElement("div");return e.className=o,t.appendChild(e),t},Object.defineProperty(i.prototype,"hidden",{get:function(){return this._hidden},set:function(t){t!==this._hidden&&(this._hidden=t,t?this.addClass(a):this.removeClass(a))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"orientation",{get:function(){return this._orientation},set:function(t){t!==this._orientation&&(this._orientation=t,t===e.Orientation.Horizontal?(this.removeClass(s),this.addClass(r)):(this.removeClass(r),this.addClass(s)))},enumerable:!0,configurable:!0}),i}(i);e.SplitHandle=h}(e=t.widgets||(t.widgets={}))}(phosphor||(phosphor={}));var __extends=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);i.prototype=e.prototype,t.prototype=new i},phosphor;!function(t){var e;!function(e){function i(t){for(var e=0,i=t.length;i>e;++e){var n=t[e];n.size>0&&(n.sizeHint=n.size)}}function n(t,e,i){for(var n=0,o=0;e>=o;++o){var r=t[o];n+=r.maxSize-r.size}for(var s=0,o=e+1,a=t.length;a>o;++o){var r=t[o];s+=r.size-r.minSize}i=Math.min(i,n,s);for(var h=i,o=e;o>=0&&h>0;--o){var r=t[o],c=r.maxSize-r.size;c>=h?(r.sizeHint=r.size+h,h=0):(r.sizeHint=r.size+c,h-=c)}for(var u=i,o=e+1,a=t.length;a>o&&u>0;++o){var r=t[o],c=r.size-r.minSize;c>=u?(r.sizeHint=r.size-u,u=0):(r.sizeHint=r.size-c,u-=c)}}function o(t){var e=t.length;if(0===e)return[];for(var i=0,n=0;e>n;++n)i+=t[n];var o=new Array(e);if(0===i)for(var n=0;e>n;++n)o[n]=1/e;else for(var n=0;e>n;++n)o[n]=t[n]/i;return o}var r=t.collections.algorithm,s=t.utility.Size,a=function(t){function a(e){t.call(this),this._dirty=!0,this._handleSize=3,this._fixedSpace=0,this._minSize=null,this._maxSize=null,this._sizeHint=null,this._items=[],this._sizers=[],this._orientation=e}return __extends(a,t),a.prototype.dispose=function(){this._items=null,this._sizers=null,t.prototype.dispose.call(this)},Object.defineProperty(a.prototype,"orientation",{get:function(){return this._orientation},set:function(t){t!==this._orientation&&(this._orientation=t,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"handleSize",{get:function(){return this._handleSize},set:function(t){t=Math.max(0,Math.floor(t)),t!==this._handleSize&&(this._handleSize=t,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"count",{get:function(){return this._items.length},enumerable:!0,configurable:!0}),a.prototype.sizes=function(){return o(this._sizers.map(function(t){return t.size}))},a.prototype.setSizes=function(t){var i=this.parent;if(i){var n,r=i.boxSizing;n=this._orientation===e.Orientation.Horizontal?i.width-r.horizontalSum-this._fixedSpace:i.height-r.verticalSum-this._fixedSpace;for(var s=this._sizers,a=o(t),h=Math.min(s.length,a.length),c=0;h>c;++c){var u=Math.round(a[c]*n),l=s[c];l.size=u,l.sizeHint=u}this.refresh()}},a.prototype.handleAt=function(t){var e=this._items[t];return e?e.handle:void 0},a.prototype.moveHandle=function(t,o){var r=this._items[t];if(r&&!r.handle.hidden){var s;if(s=this._orientation===e.Orientation.Horizontal?o-r.handle.node.offsetLeft:o-r.handle.node.offsetTop,0!==s){var a=this._sizers;i(a),s>0?n(a,t,s):(a.reverse(),n(a,a.length-(t+2),-s),a.reverse()),this.refresh()}}},a.prototype.itemAt=function(t){return this._items[t]},a.prototype.removeAt=function(t){var e=r.removeAt(this._items,t);if(r.removeAt(this._sizers,t),e){var i=e.handle.node,n=i.parentNode;n&&n.removeChild(i),this.invalidate()}return e},a.prototype.addWidget=function(t,e,i){return this.insertWidget(this.count,t,e,i)},a.prototype.insertWidget=function(t,i,n,o){void 0===n&&(n=0),void 0===o&&(o=0),this.remove(i),this.ensureParent(i);var s=new e.SplitHandle(this._orientation),a=new h(s,i,o),c=new e.LayoutSizer;return c.stretch=Math.max(0,Math.floor(n)),t=r.insert(this._items,t,a),r.insert(this._sizers,t,c),this.invalidate(),t},a.prototype.stretch=function(t){var e="number"==typeof t?t:this.indexOf(t),i=this._sizers[e];return i?i.stretch:-1},a.prototype.setStretch=function(t,e){var i="number"==typeof t?t:this.indexOf(t),n=this._sizers[i];return n?(e=Math.max(0,Math.floor(e)),n.stretch!==e&&(n.stretch=e,this.invalidate()),!0):!1},a.prototype.invalidate=function(){this._dirty=!0,t.prototype.invalidate.call(this)},a.prototype.sizeHint=function(){return this._dirty&&this._setupGeometry(),this._sizeHint},a.prototype.minSize=function(){return this._dirty&&this._setupGeometry(),this._minSize},a.prototype.maxSize=function(){return this._dirty&&this._setupGeometry(),this._maxSize},a.prototype.layout=function(t,i,n,o){var r=this._items;if(0!==r.length){this._dirty&&this._setupGeometry();var s=this._orientation,a=this._sizers,h=s===e.Orientation.Horizontal?n:o;e.layoutCalc(a,Math.max(0,h-this._fixedSpace));var c=this._handleSize,u=r.length;if(s===e.Orientation.Horizontal)for(var l=0;u>l;++l){var p=r[l];if(!p.isHidden){var d=a[l].size,f=p.handle.node.style;p.setGeometry(t,i,d,o),f.top=i+"px",f.left=t+d+"px",f.width=c+"px",f.height=o+"px",t+=d+c}}else for(var l=0;u>l;++l){var p=r[l];if(!p.isHidden){var d=a[l].size,f=p.handle.node.style;p.setGeometry(t,i,n,d),f.top=i+d+"px",f.left=t+"px",f.width=n+"px",f.height=c+"px",
i+=d+c}}}},a.prototype._setupGeometry=function(){if(this._dirty){this._dirty=!1;var t=this.parent;if(!t)return this._sizeHint=s.Zero,this._minSize=s.Zero,this._maxSize=s.Zero,void(this._fixedSpace=0);for(var n=!1,o=t.node,r=this._orientation,a=this._items,h=a.length,c=h-1;c>=0;--c){var u=a[c],l=u.handle,p=l.node;u.invalidate(),l.orientation=r,l.hidden=u.isHidden,p.parentNode!==o&&o.appendChild(p),n||u.isHidden||(u.handle.hidden=!0,n=!0)}var d,f,_=0,v=0,m=0,y=0,g=0,b=this._handleSize,x=this._sizers;if(i(x),r===e.Orientation.Horizontal){f=1/0,d=h>0?0:1/0;for(var c=0;h>c;++c){var u=a[c],w=x[c];if(u.isHidden)w.minSize=0,w.maxSize=0,w.expansive=!1;else{var z=u.sizeHint(),M=u.minSize(),S=u.maxSize();v=Math.max(v,z.height),y=Math.max(y,M.height),f=Math.min(f,S.height),_+=z.width,m+=M.width,d+=S.width,w.minSize=M.width,w.maxSize=S.width,w.expansive=u.expandHorizontal,0===w.sizeHint&&(w.sizeHint=z.width),u.handle.hidden||(g+=b)}}_+=g,m+=g,d+=g}else{d=1/0,f=h>0?0:1/0;for(var c=0;h>c;++c){var u=a[c],w=x[c];if(u.isHidden)w.minSize=0,w.maxSize=0,w.expansive=!1;else{var z=u.sizeHint(),M=u.minSize(),S=u.maxSize();_=Math.max(_,z.width),m=Math.max(m,M.width),d=Math.min(d,S.width),v+=z.height,y+=M.height,f+=S.height,w.minSize=M.height,w.maxSize=S.height,w.expansive=u.expandVertical,0===w.sizeHint&&(w.sizeHint=z.height),u.handle.hidden||(g+=b)}}v+=g,y+=g,f+=g}var P=t.boxSizing,O=P.horizontalSum,I=P.verticalSum;_+=O,v+=I,m+=O,y+=I,d+=O,f+=I,this._sizeHint=new s(_,v),this._minSize=new s(m,y),this._maxSize=new s(d,f),this._fixedSpace=g}},a}(e.Layout);e.SplitLayout=a;var h=function(t){function e(e,i,n){t.call(this,i,n),this._handle=e}return __extends(e,t),Object.defineProperty(e.prototype,"handle",{get:function(){return this._handle},enumerable:!0,configurable:!0}),e}(e.WidgetItem);e.SplitItem=h}(e=t.widgets||(t.widgets={}))}(phosphor||(phosphor={}));var __extends=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);i.prototype=e.prototype,t.prototype=new i},__decorate=this&&this.__decorate||function(t,e,i,n){if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)return Reflect.decorate(t,e,i,n);switch(arguments.length){case 2:return t.reduceRight(function(t,e){return e&&e(t)||t},e);case 3:return t.reduceRight(function(t,n){return void(n&&n(e,i))},void 0);case 4:return t.reduceRight(function(t,n){return n&&n(e,i,t)||t},n)}},phosphor;!function(t){var e;!function(e){var i=t.collections.algorithm,n=t.core.signal,o=t.utility.Pair,r=t.utility.Size,s=function(t){function s(){t.call(this),this._dirty=!0,this._sizeHint=null,this._minSize=null,this._maxSize=null,this._items=[],this._currentItem=null}return __extends(s,t),s.prototype.dispose=function(){this._currentItem=null,this._items=null,t.prototype.dispose.call(this)},Object.defineProperty(s.prototype,"currentIndex",{get:function(){return i.indexOf(this._items,this._currentItem)},set:function(t){var e=this._currentItem,i=this.itemAt(t)||null;e!==i&&(this._currentItem=i,e&&e.widget.hide(),i&&i.widget.show(),this.refresh())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"currentWidget",{get:function(){return this._currentItem.widget},set:function(t){this.currentIndex=this.indexOf(t)},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"count",{get:function(){return this._items.length},enumerable:!0,configurable:!0}),s.prototype.itemAt=function(t){return this._items[t]},s.prototype.removeAt=function(t){var e=i.removeAt(this._items,t);return e?(e===this._currentItem&&(this._currentItem=null,e.widget.hide()),this.widgetRemoved.emit(new o(t,e.widget)),e):void 0},s.prototype.addWidget=function(t,e){return this.insertWidget(this.count,t,e)},s.prototype.insertWidget=function(t,n,o){return void 0===o&&(o=0),n.hide(),this.remove(n),this.ensureParent(n),i.insert(this._items,t,new e.WidgetItem(n,o))},s.prototype.moveWidget=function(t,e){return i.move(this._items,t,e)},s.prototype.invalidate=function(){this._dirty=!0,t.prototype.invalidate.call(this)},s.prototype.sizeHint=function(){return this._dirty&&this._setupGeometry(),this._sizeHint},s.prototype.minSize=function(){return this._dirty&&this._setupGeometry(),this._minSize},s.prototype.maxSize=function(){return this._dirty&&this._setupGeometry(),this._maxSize},s.prototype.layout=function(t,e,i,n){this._dirty&&this._setupGeometry(),null!==this._currentItem&&this._currentItem.setGeometry(t,e,i,n)},s.prototype._setupGeometry=function(){if(this._dirty){this._dirty=!1;var t=this.parent;if(!t)return this._sizeHint=r.Zero,this._minSize=r.Zero,void(this._maxSize=r.Zero);var e=0,i=0,n=0,o=0,s=1/0,a=1/0,h=this._currentItem;if(null!==h){h.invalidate();var c=h.sizeHint(),u=h.minSize(),l=h.maxSize();e=Math.max(e,c.width),i=Math.max(i,c.height),n=Math.max(n,u.width),o=Math.max(o,u.height),s=Math.min(s,l.width),a=Math.min(a,l.height)}var p=t.boxSizing,d=p.horizontalSum,f=p.verticalSum;e+=d,i+=f,n+=d,o+=f,s+=d,a+=f,this._sizeHint=new r(e,i),this._minSize=new r(n,o),this._maxSize=new r(s,a)}},__decorate([n],s.prototype,"widgetRemoved"),s}(e.Layout);e.StackedLayout=s}(e=t.widgets||(t.widgets={}))}(phosphor||(phosphor={}));var __extends=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);i.prototype=e.prototype,t.prototype=new i},__decorate=this&&this.__decorate||function(t,e,i,n){if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)return Reflect.decorate(t,e,i,n);switch(arguments.length){case 2:return t.reduceRight(function(t,e){return e&&e(t)||t},e);case 3:return t.reduceRight(function(t,n){return void(n&&n(e,i))},void 0);case 4:return t.reduceRight(function(t,n){return n&&n(e,i,t)||t},n)}},phosphor;!function(t){var e;!function(e){function i(t){y(t,I);for(var e=0;e<t.childCount;++e){var n=t.childAt(e);n.isHidden||i(n)}}function n(t){t.setFlag(e.WidgetFlag.IsVisible),y(t,C);for(var i=0;i<t.childCount;++i){var o=t.childAt(i);o.isHidden||n(o)}}function o(t){y(t,T);for(var e=0;e<t.childCount;++e){var i=t.childAt(e);i.isHidden||o(i)}}function r(t){t.clearFlag(e.WidgetFlag.IsVisible),y(t,k);for(var i=0;i<t.childCount;++i){var n=t.childAt(i);n.isHidden||r(n)}}function s(t){y(t,A);for(var e=0;e<t.childCount;++e)s(t.childAt(e))}function a(t){var i=t.parent;t.isHidden||i&&!i.isVisible||t.setFlag(e.WidgetFlag.IsVisible),t.setFlag(e.WidgetFlag.IsAttached),y(t,W);for(var n=0;n<t.childCount;++n)a(t.childAt(n))}function h(t){y(t,F);for(var e=0;e<t.childCount;++e)h(t.childAt(e))}function c(t){t.clearFlag(e.WidgetFlag.IsVisible),t.clearFlag(e.WidgetFlag.IsAttached),y(t,j);for(var i=0;i<t.childCount;++i)c(t.childAt(i))}var u=t.collections.algorithm,l=t.core.Message,p=t.core.NodeBase,d=t.core.clearMessageData,f=t.core.clearSignalData,_=t.core.installMessageFilter,v=t.core.postMessage,m=t.core.removeMessageFilter,y=t.core.sendMessage,g=t.core.signal,b=t.utility.Size,x=t.utility.createBoxSizing,w="p-Widget",z="p-mod-hidden",M=new l("layout-changed"),S=new l("layout-request"),P=new l("update-request"),O=new l("parent-changed"),I=new l("before-show"),C=new l("after-show"),T=new l("before-hide"),k=new l("after-hide"),A=new l("before-attach"),W=new l("after-attach"),F=new l("before-detach"),j=new l("after-detach"),H=new l("close"),L=function(t){function l(){t.call(this),this._x=0,this._y=0,this._width=0,this._height=0,this._wflags=0,this._layout=null,this._parent=null,this._children=[],this._boxSizing=null,this._sizePolicy=R,this.addClass(w)}return __extends(l,t),l.prototype.dispose=function(){this.setFlag(e.WidgetFlag.IsDisposed),this.disposed.emit(void 0),f(this),d(this);var i=this._layout;i&&(this._layout=null,i.dispose());var n=this._parent;n?(this._parent=null,u.remove(n._children,this),y(n,new e.ChildMessage("child-removed",this))):this.isAttached&&this.detach();for(var o=this._children,r=0;r<o.length;++r){var s=o[r];o[r]=null,s._parent=null,s.dispose()}o.length=0,t.prototype.dispose.call(this)},Object.defineProperty(l.prototype,"x",{get:function(){return this._x},set:function(t){this.move(t,this._y)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"y",{get:function(){return this._y},set:function(t){this.move(this._x,t)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"width",{get:function(){return this._width},set:function(t){this.resize(t,this._height)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"height",{get:function(){return this._height},set:function(t){this.resize(this._width,t)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"horizontalSizePolicy",{get:function(){return this._sizePolicy>>16},set:function(t){this.setSizePolicy(t,this.verticalSizePolicy)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"verticalSizePolicy",{get:function(){return 65535&this._sizePolicy},set:function(t){this.setSizePolicy(this.horizontalSizePolicy,t)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"boxSizing",{get:function(){return this._boxSizing||(this._boxSizing=x(this.node)),this._boxSizing},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"isAttached",{get:function(){return this.testFlag(e.WidgetFlag.IsAttached)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"isDisposed",{get:function(){return this.testFlag(e.WidgetFlag.IsDisposed)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"isHidden",{get:function(){return this.testFlag(e.WidgetFlag.IsHidden)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"isVisible",{get:function(){return this.testFlag(e.WidgetFlag.IsVisible)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"layout",{get:function(){return this._layout},set:function(t){t=t||null;var i=this._layout;if(i!==t){if(this.testFlag(e.WidgetFlag.DisallowLayoutChange))throw new Error("cannot change widget layout");if(t&&t.parent)throw new Error("layout already installed on a widget");i&&(this._layout=null,m(this,i),i.dispose()),t&&(this._layout=t,_(this,t),t.parent=this),y(this,M)}},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"parent",{get:function(){return this._parent},set:function(t){t=t||null;var i=this._parent;i!==t&&(i&&(this._parent=null,u.remove(i._children,this),y(i,new e.ChildMessage("child-removed",this))),t&&(this._parent=t,t._children.push(this),y(t,new e.ChildMessage("child-added",this))),y(this,O))},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"childCount",{get:function(){return this._children.length},enumerable:!0,configurable:!0}),l.prototype.childAt=function(t){return this._children[t]},l.prototype.testFlag=function(t){return 0!==(this._wflags&t)},l.prototype.setFlag=function(t){this._wflags|=t},l.prototype.clearFlag=function(t){this._wflags&=~t},l.prototype.show=function(){if(this.isHidden){var t=this._parent;!this.isAttached||t&&!t.isVisible?(this.removeClass(z),this.clearFlag(e.WidgetFlag.IsHidden)):(i(this),this.removeClass(z),this.clearFlag(e.WidgetFlag.IsHidden),n(this)),t&&y(t,new e.ChildMessage("child-shown",this)),this.updateGeometry()}},l.prototype.hide=function(){if(!this.isHidden){var t=this._parent;!this.isAttached||t&&!t.isVisible?(this.addClass(z),this.setFlag(e.WidgetFlag.IsHidden)):(o(this),this.addClass(z),this.setFlag(e.WidgetFlag.IsHidden),r(this)),t&&y(t,new e.ChildMessage("child-hidden",this)),this.updateGeometry(!0)}},l.prototype.setVisible=function(t){t?this.show():this.hide()},l.prototype.close=function(){y(this,H)},l.prototype.attach=function(t){if(this._parent)throw new Error("cannot attach a non-root widget to the DOM");s(this),t.appendChild(this.node),a(this)},l.prototype.detach=function(){if(this._parent)throw new Error("cannot dettach a non-root widget from the DOM");var t=this.node.parentNode;t&&(h(this),t.removeChild(this.node),c(this))},l.prototype.fit=function(t,e,i){if(this._parent)throw new Error("cannot fit a non-root widget");var n=this.node.parentNode;if(n){void 0===t&&(t=n.offsetWidth),void 0===e&&(e=n.offsetHeight),void 0===i&&(i=x(n));var o=i.paddingLeft,r=i.paddingTop,s=t-i.horizontalSum,a=e-i.verticalSum;this.setGeometry(o,r,s,a)}},l.prototype.sizeHint=function(){return this._layout?this._layout.sizeHint():b.Zero},l.prototype.minSizeHint=function(){return this._layout?this._layout.minSize():b.Zero},l.prototype.maxSizeHint=function(){return this._layout?this._layout.maxSize():b.Infinite},l.prototype.invalidateBoxSizing=function(){this._boxSizing=null,this._layout?this._layout.invalidate():v(this,S),this.updateGeometry()},l.prototype.updateGeometry=function(t){void 0===t&&(t=!1);var e=this._parent;!e||this.isHidden&&!t||(e._layout?e._layout.invalidate():(v(e,S),e.updateGeometry()))},l.prototype.update=function(t){void 0===t&&(t=!1),t?y(this,P):v(this,P)},l.prototype.move=function(t,e){this.setGeometry(t,e,this._width,this._height)},l.prototype.resize=function(t,e){this.setGeometry(this._x,this._y,t,e)},l.prototype.setGeometry=function(t,i,n,o){var r=!1,s=!1,a=this._x,h=this._y,c=this._width,u=this._height,l=this.boxSizing,p=this.node.style,d=Math.max(l.minWidth,Math.min(n,l.maxWidth)),f=Math.max(l.minHeight,Math.min(o,l.maxHeight));a!==t&&(this._x=t,p.left=t+"px",r=!0),h!==i&&(this._y=i,p.top=i+"px",r=!0),c!==d&&(this._width=d,p.width=d+"px",s=!0),u!==f&&(this._height=f,p.height=f+"px",s=!0),r&&y(this,new e.MoveMessage(a,h,t,i)),s&&y(this,new e.ResizeMessage(c,u,d,f))},l.prototype.setSizePolicy=function(t,e){var i=t<<16|e;i!==this._sizePolicy&&(this._sizePolicy=i,this.updateGeometry())},l.prototype.processMessage=function(t){switch(t.type){case"move":this.onMove(t);break;case"resize":this.onResize(t);break;case"update-request":this.onUpdateRequest(t);break;case"child-added":this.onChildAdded(t);break;case"child-removed":this.onChildRemoved(t);break;case"before-show":this.onBeforeShow(t);break;case"after-show":this.onAfterShow(t);break;case"before-hide":this.onBeforeHide(t);break;case"after-hide":this.onAfterHide(t);break;case"before-attach":this._boxSizing=null,this.onBeforeAttach(t);break;case"after-attach":this.onAfterAttach(t);break;case"before-detach":this.onBeforeDetach(t);break;case"after-detach":this.onAfterDetach(t);break;case"close":this.onClose(t)}},l.prototype.compressMessage=function(t,e){return"layout-request"===t.type||"update-request"===t.type?e.some(function(e){return e.type===t.type}):!1},l.prototype.onClose=function(t){this.parent=null},l.prototype.onChildAdded=function(t){var e=t.child;this.isAttached?(s(e),this.node.appendChild(e.node),a(e)):this.node.appendChild(e.node)},l.prototype.onChildRemoved=function(t){var e=t.child;this.isAttached?(h(e),this.node.removeChild(e.node),c(e)):this.node.removeChild(e.node)},l.prototype.onMove=function(t){},l.prototype.onResize=function(t){},l.prototype.onUpdateRequest=function(t){},l.prototype.onBeforeShow=function(t){},l.prototype.onAfterShow=function(t){},l.prototype.onBeforeHide=function(t){},l.prototype.onAfterHide=function(t){},l.prototype.onBeforeAttach=function(t){},l.prototype.onAfterAttach=function(t){},l.prototype.onBeforeDetach=function(t){},l.prototype.onAfterDetach=function(t){},__decorate([g],l.prototype,"disposed"),l}(p);e.Widget=L;var R=e.SizePolicy.Preferred<<16|e.SizePolicy.Preferred}(e=t.widgets||(t.widgets={}))}(phosphor||(phosphor={}));var __extends=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);i.prototype=e.prototype,t.prototype=new i},phosphor;!function(t){var e;!function(t){var e=function(e){function i(i){e.call(this),this.layout=i,this.setFlag(t.WidgetFlag.DisallowLayoutChange)}return __extends(i,e),Object.defineProperty(i.prototype,"count",{get:function(){return this.layout.count},enumerable:!0,configurable:!0}),i.prototype.indexOf=function(t){return this.layout.indexOf(t)},i.prototype.widgetAt=function(t){return this.layout.widgetAt(t)},i.prototype.alignment=function(t){return this.layout.alignment(t)},i.prototype.setAlignment=function(t,e){return this.layout.setAlignment(t,e)},i}(t.Widget);t.Panel=e}(e=t.widgets||(t.widgets={}))}(phosphor||(phosphor={}));var __extends=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);i.prototype=e.prototype,t.prototype=new i},phosphor;!function(t){var e;!function(t){var e="p-BoxPanel",i=function(i){function n(n,o){void 0===n&&(n=t.Direction.TopToBottom),void 0===o&&(o=8),i.call(this,new t.BoxLayout(n,o)),this.addClass(e)}return __extends(n,i),Object.defineProperty(n.prototype,"direction",{get:function(){return this.layout.direction},set:function(t){this.layout.direction=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"spacing",{get:function(){return this.layout.spacing},set:function(t){this.layout.spacing=t},enumerable:!0,configurable:!0}),n.prototype.addWidget=function(t,e,i){return this.layout.addWidget(t,e,i)},n.prototype.insertWidget=function(t,e,i,n){return this.layout.insertWidget(t,e,i,n)},n.prototype.addSpacing=function(t){return this.layout.addSpacing(t)},n.prototype.insertSpacing=function(t,e){return this.layout.insertSpacing(t,e)},n.prototype.addStretch=function(t){return this.layout.addStretch(t)},n.prototype.insertStretch=function(t,e){return this.layout.insertStretch(t,e)},n.prototype.stretch=function(t){return this.layout.stretch(t)},n.prototype.setStretch=function(t,e){return this.layout.setStretch(t,e)},n}(t.Panel);t.BoxPanel=i}(e=t.widgets||(t.widgets={}))}(phosphor||(phosphor={}));var __extends=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);i.prototype=e.prototype,t.prototype=new i},phosphor;!function(t){var e;!function(e){var i=t.utility.overrideCursor,n="p-SplitPanel",o=function(t){function o(i){void 0===i&&(i=e.Orientation.Horizontal),t.call(this,new e.SplitLayout(i)),this._pressData=null,this.addClass(n)}return __extends(o,t),o.prototype.dispose=function(){this._releaseMouse(),t.prototype.dispose.call(this)},Object.defineProperty(o.prototype,"orientation",{get:function(){return this.layout.orientation},set:function(t){this.layout.orientation=t},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"handleSize",{get:function(){return this.layout.handleSize},set:function(t){this.layout.handleSize=t},enumerable:!0,configurable:!0}),o.prototype.sizes=function(){return this.layout.sizes()},o.prototype.setSizes=function(t){this.layout.setSizes(t)},o.prototype.addWidget=function(t,e,i){return this.layout.addWidget(t,e,i)},o.prototype.insertWidget=function(t,e,i,n){return this.layout.insertWidget(t,e,i,n)},o.prototype.stretch=function(t){return this.layout.stretch(t)},o.prototype.setStretch=function(t,e){return this.layout.setStretch(t,e)},o.prototype.handleEvent=function(t){switch(t.type){case"mousedown":this._evtMouseDown(t);break;case"mouseup":this._evtMouseUp(t);break;case"mousemove":this._evtMouseMove(t)}},o.prototype.onAfterAttach=function(t){this.node.addEventListener("mousedown",this)},o.prototype.onAfterDetach=function(t){this.node.removeEventListener("mousedown",this)},o.prototype._evtMouseDown=function(t){if(0===t.button){var n=this._findHandle(t.target);if(n){t.preventDefault(),t.stopPropagation(),document.addEventListener("mouseup",this,!0),document.addEventListener("mousemove",this,!0);var o,r=n.handle.node,s=r.getBoundingClientRect();o=this.orientation===e.Orientation.Horizontal?t.clientX-s.left:t.clientY-s.top;var a=i(window.getComputedStyle(r).cursor);this._pressData={index:n.index,delta:o,cursor:a}}}},o.prototype._evtMouseUp=function(t){0===t.button&&(t.preventDefault(),t.stopPropagation(),this._releaseMouse())},o.prototype._evtMouseMove=function(t){t.preventDefault(),t.stopPropagation();var i,n=this._pressData,o=this.layout,r=this.node.getBoundingClientRect();i=o.orientation===e.Orientation.Horizontal?t.clientX-n.delta-r.left:t.clientY-n.delta-r.top,o.moveHandle(n.index,i)},o.prototype._findHandle=function(t){for(var e=this.layout,i=0,n=e.count;n>i;++i){var o=e.handleAt(i);if(o.node.contains(t))return{index:i,handle:o}}return null},o.prototype._releaseMouse=function(){this._pressData&&(this._pressData.cursor.dispose(),this._pressData=null,document.removeEventListener("mouseup",this,!0),document.removeEventListener("mousemove",this,!0))},o}(e.Panel);e.SplitPanel=o}(e=t.widgets||(t.widgets={}))}(phosphor||(phosphor={}));var __extends=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);i.prototype=e.prototype,t.prototype=new i},__decorate=this&&this.__decorate||function(t,e,i,n){if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)return Reflect.decorate(t,e,i,n);switch(arguments.length){case 2:return t.reduceRight(function(t,e){return e&&e(t)||t},e);case 3:return t.reduceRight(function(t,n){return void(n&&n(e,i))},void 0);case 4:return t.reduceRight(function(t,n){return n&&n(e,i,t)||t},n)}},phosphor;!function(t){var e;!function(e){var i=t.core.signal,n="p-StackedPanel",o=function(t){function o(){t.call(this,new e.StackedLayout),this.addClass(n);var i=this.layout;i.widgetRemoved.connect(this._p_widgetRemoved,this)}return __extends(o,t),Object.defineProperty(o.prototype,"currentIndex",{get:function(){return this.layout.currentIndex},set:function(t){this.layout.currentIndex=t},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"currentWidget",{get:function(){return this.layout.currentWidget},set:function(t){this.layout.currentWidget=t},enumerable:!0,configurable:!0}),o.prototype.addWidget=function(t,e){return this.layout.addWidget(t,e)},o.prototype.insertWidget=function(t,e,i){return this.layout.insertWidget(t,e,i)},o.prototype.moveWidget=function(t,e){return this.layout.moveWidget(t,e)},o.prototype._p_widgetRemoved=function(t){this.widgetRemoved.emit(t)},__decorate([i],o.prototype,"widgetRemoved"),o}(e.Panel);e.StackedPanel=o}(e=t.widgets||(t.widgets={}))}(phosphor||(phosphor={}));var __extends=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);i.prototype=e.prototype,t.prototype=new i},phosphor;!function(t){var e;!function(e){function i(t,e){e?t.addClass(d):t.removeClass(d)}function n(t,e){for(var i=0,o=t.count;o>i;++i){var r,s=t.widgetAt(i);if(r=s instanceof v?e(s):n(s,e),void 0!==r)return r}return void 0}function o(t,e){var i=e(t);if(void 0!==i)return i;for(var n=0,r=t.count;r>n;++n){var s=t.widgetAt(n);if(s instanceof m&&(i=o(s,e),void 0!==i))return i}return void 0}var r=t.collections.algorithm,s=t.core.sender,a=t.utility.hitTest,h=t.utility.overrideCursor,c="p-DockArea",u="p-DockSplitter",l="p-DockPanel",p="p-DockPanel-overlay",d="p-mod-floating",f=function(t){function u(){t.call(this),this._handleSize=3,this._tabWidth=175,this._tabOverlap=0,this._minTabWidth=45,this._ignoreRemoved=!1,this._root=null,this._dragData=null,this._items=[],this.addClass(c),this._root=this._createSplitter(e.Orientation.Horizontal);var i=new e.BoxLayout(e.Direction.TopToBottom,0);i.addWidget(this._root),this.layout=i,this.setFlag(e.WidgetFlag.DisallowLayoutChange)}return __extends(u,t),u.prototype.dispose=function(){this._abortDrag(),this._root=null,this._items=null,t.prototype.dispose.call(this)},Object.defineProperty(u.prototype,"tabWidth",{get:function(){return this._tabWidth},set:function(t){t=Math.max(0,t),t!==this._tabWidth&&(this._tabWidth=t,n(this._root,function(e){e.tabBar.tabWidth=t}))},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"minTabWidth",{get:function(){return this._minTabWidth},set:function(t){t=Math.max(0,t),t!==this._minTabWidth&&(this._minTabWidth=t,n(this._root,function(e){e.tabBar.minTabWidth=t}))},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"tabOverlap",{get:function(){return this._tabOverlap},set:function(t){t!==this._tabOverlap&&(this._tabOverlap=t,n(this._root,function(e){e.tabBar.tabOverlap=t}))},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"handleSize",{get:function(){return this._handleSize},set:function(t){t!==this._handleSize&&(this._handleSize=t,o(this._root,function(e){e.handleSize=t}))},enumerable:!0,configurable:!0}),u.prototype.addWidget=function(t,i,n){switch(i){case e.DockMode.Top:this._addWidget(t,e.Orientation.Vertical,!1);break;case e.DockMode.Left:this._addWidget(t,e.Orientation.Horizontal,!1);break;case e.DockMode.Right:this._addWidget(t,e.Orientation.Horizontal,!0);break;case e.DockMode.Bottom:this._addWidget(t,e.Orientation.Vertical,!0);break;case e.DockMode.SplitTop:this._splitWidget(t,n,e.Orientation.Vertical,!1);break;case e.DockMode.SplitLeft:this._splitWidget(t,n,e.Orientation.Horizontal,!1);break;case e.DockMode.SplitRight:this._splitWidget(t,n,e.Orientation.Horizontal,!0);break;case e.DockMode.SplitBottom:this._splitWidget(t,n,e.Orientation.Vertical,!0);break;case e.DockMode.TabBefore:this._tabifyWidget(t,n,!1);break;case e.DockMode.TabAfter:this._tabifyWidget(t,n,!0);break;default:this._addWidget(t,e.Orientation.Horizontal,!1)}},u.prototype.handleEvent=function(t){switch(t.type){case"mousemove":this._evtMouseMove(t);break;case"mouseup":this._evtMouseUp(t);break;case"contextmenu":t.preventDefault(),t.stopPropagation()}},u.prototype._evtMouseMove=function(t){t.preventDefault(),t.stopPropagation();var e=this._dragData;if(e){var o=t.clientX,r=t.clientY,s=n(this._root,function(t){return a(t.node,o,r)?t:void 0});e.lastHitPanel&&e.lastHitPanel!==s&&e.lastHitPanel.hideOverlay(),e.lastHitPanel=null;var h=o-e.offsetX,c=r-e.offsetY,u=e.item,l=u.widget.tab,p=l.node.style;if(!s)return p.left=h+"px",void(p.top=c+"px");if(!a(s.tabBar.node,o,r))return e.lastHitPanel=s,(s!==u.panel||s.tabBar.count>0)&&s.showOverlay(o,r),p.left=h+"px",void(p.top=c+"px");s.hideOverlay(),s!==u.panel&&(e.tempPanel=s,e.tempTab=s.tabBar.currentTab),i(l,!1),p.top="",p.left="",p.width="",s.tabBar.attachTab(l,o),document.removeEventListener("mousemove",this,!0)}},u.prototype._evtMouseUp=function(t){if(0===t.button){t.preventDefault(),t.stopPropagation(),document.removeEventListener("mouseup",this,!0),document.removeEventListener("mousemove",this,!0),document.removeEventListener("contextmenu",this,!0);var n=this._dragData;if(n){this._dragData=null,n.cursorGrab.dispose(),n.lastHitPanel&&n.lastHitPanel.hideOverlay();var o=n.item,r=o.panel,s=r.tabBar,a=s.count,h=o.widget.tab;if(n.tempPanel)if(this._ignoreRemoved=!0,o.panel=n.tempPanel,o.panel.stackedPanel.addWidget(o.widget),o.panel.stackedPanel.currentWidget=o.widget,this._ignoreRemoved=!1,0===r.stackedPanel.count)this._removePanel(r);else{var c=s.indexOf(n.prevTab);-1===c&&(c=Math.min(n.index,a-1)),s.currentIndex=c}else{var u=_.Invalid,l=n.lastHitPanel;!l||l===r&&0===a||(u=l.splitModeAt(t.clientX,t.clientY));var p=h.node.style;if(u===_.Invalid)return void(s.currentTab!==h&&(i(h,!1),p.top="",p.left="",p.width="",s.insertTab(n.index,h)));document.body.removeChild(h.node),i(h,!1),p.top="",p.left="",p.width="";var d=u===_.Right||u===_.Bottom,f=u===_.Left||u===_.Right,v=f?e.Orientation.Horizontal:e.Orientation.Vertical;this._splitPanel(l,o.widget,v,d);var c=s.indexOf(n.prevTab);-1===c&&(c=Math.min(n.index,a-1)),s.currentIndex=c}}}},u.prototype._addWidget=function(t,e,i){t.parent=null;var n=this._createPanel();this._items.push({widget:t,panel:n}),n.stackedPanel.addWidget(t),n.tabBar.addTab(t.tab),this._ensureRoot(e),i?this._root.addWidget(n):this._root.insertWidget(0,n)},u.prototype._splitWidget=function(t,e,i,n){if(t!==e){var o=r.find(this._items,function(t){return t.widget===e});o&&this._splitPanel(o.panel,t,i,n)}},u.prototype._splitPanel=function(t,e,i,n){e.parent=null;var o=this._createPanel();this._items.push({widget:e,panel:o}),o.stackedPanel.addWidget(e),o.tabBar.addTab(e.tab);var s=t.parent;if(s.orientation!==i)if(s.count<=1)s.orientation=i,s.insertWidget(n?1:0,o),s.setSizes([1,1]);else{var a=s.sizes(),h=s.indexOf(t),c=this._createSplitter(i);c.addWidget(t),c.insertWidget(n?1:0,o),s.insertWidget(h,c),s.setSizes(a),c.setSizes([1,1])}else{var h=s.indexOf(t),u=n?h+1:h,a=s.sizes(),l=a[h]=a[h]/2;s.insertWidget(u,o),r.insert(a,u,l),s.setSizes(a)}},u.prototype._tabifyWidget=function(t,e,i){if(t!==e){var n=r.find(this._items,function(t){return t.widget===e});if(n){t.parent=null;var o=n.panel,s=o.tabBar.indexOf(e.tab)+(i?1:0);this._items.push({widget:t,panel:o}),o.stackedPanel.addWidget(t),o.tabBar.insertTab(s,t.tab)}}},u.prototype._ensureRoot=function(t){var e=this._root;e.orientation!==t&&(e.count<=1?e.orientation=t:(this._root=this._createSplitter(t),this._root.addWidget(e),this.layout.addWidget(this._root)))},u.prototype._createPanel=function(){var t=new v,e=t.tabBar,i=t.stackedPanel;return e.tabWidth=this._tabWidth,e.tabOverlap=this._tabOverlap,e.minTabWidth=this._minTabWidth,e.currentChanged.connect(this._p_currentChanged,this),e.tabCloseRequested.connect(this._p_tabCloseRequested,this),e.tabDetachRequested.connect(this._p_tabDetachRequested,this),i.widgetRemoved.connect(this._p_widgetRemoved,this),t},u.prototype._createSplitter=function(t){var e=new m(t);return e.handleSize=this._handleSize,e},u.prototype._removePanel=function(t){var e=t.parent;if(t.parent=null,setTimeout(function(){return t.dispose()},0),!(e.count>1))if(e!==this._root){var i=e.parent,n=i.sizes(),o=e.widgetAt(0),s=i.indexOf(e);if(e.parent=null,o instanceof v)i.insertWidget(s,o);else for(var a=o,h=a.sizes(),c=r.removeAt(n,s),u=0;0!==a.count;++u)i.insertWidget(s+u,a.widgetAt(0)),r.insert(n,s+u,c*h[u]);i.setSizes(n),e.dispose()}else if(1===e.count){var l=e.widgetAt(0);if(l instanceof m){var p=this.layout,d=l.sizes();this._root=l,e.parent=null,p.addWidget(l),l.setSizes(d),e.dispose()}}},u.prototype._abortDrag=function(){var t=this._dragData;if(t){if(this._dragData=null,document.removeEventListener("mouseup",this,!0),document.removeEventListener("mousemove",this,!0),document.removeEventListener("contextmenu",this,!0),t.cursorGrab.dispose(),t.lastHitPanel&&t.lastHitPanel.hideOverlay(),t.tempPanel){var e=t.tempPanel.tabBar;e.detachAt(e.currentIndex),e.currentTab=t.tempTab}var n=t.item,o=n.widget.tab,r=n.panel.tabBar;if(r.currentTab!==o){var s=o.node.style;i(o,!1),s.top="",s.left="",s.width="",r.insertTab(t.index,o)}}},u.prototype._p_currentChanged=function(t){var e=s(),i=r.find(this._items,function(e){return e.widget.tab===t.second});i&&i.panel.tabBar===e&&(i.panel.stackedPanel.currentWidget=i.widget)},u.prototype._p_tabCloseRequested=function(t){var e=r.find(this._items,function(e){return e.widget.tab===t.second});e&&e.widget.close()},u.prototype._p_tabDetachRequested=function(t){var e=t.tab,n=r.find(this._items,function(t){return t.widget.tab===e});if(n){var o=s();if(!this._dragData){var a=o.previousTab;this._dragData={item:n,index:t.index,offsetX:0,offsetY:0,prevTab:a,lastHitPanel:null,cursorGrab:null,tempPanel:null,tempTab:null}}var c=this._dragData;c.offsetX=Math.floor(.4*this._tabWidth),c.offsetY=Math.floor(.6*e.node.offsetHeight),c.cursorGrab=h("default"),n.panel.tabBar===o?(o.currentIndex=-1,o.detachAt(t.index)):(o.detachAt(t.index),o.currentTab=c.tempTab),c.tempPanel=null,c.tempTab=null;var u=e.node.style;u.left=t.clientX-c.offsetX+"px",u.top=t.clientY-c.offsetY+"px",u.width=this._tabWidth+"px",u.zIndex="",i(e,!0),document.body.appendChild(e.node),document.addEventListener("mouseup",this,!0),document.addEventListener("mousemove",this,!0),document.addEventListener("contextmenu",this,!0)}},u.prototype._p_widgetRemoved=function(t){if(!this._ignoreRemoved){var e=r.findIndex(this._items,function(e){return e.widget===t.second});if(-1!==e){this._abortDrag();var i=r.removeAt(this._items,e);i.panel.tabBar.removeTab(i.widget.tab),0===i.panel.stackedPanel.count&&this._removePanel(i.panel)}}},u}(e.Widget);e.DockArea=f;var _;!function(t){t[t.Top=0]="Top",t[t.Left=1]="Left",t[t.Right=2]="Right",t[t.Bottom=3]="Bottom",t[t.Invalid=4]="Invalid"}(_||(_={}));var v=function(t){function i(){t.call(this),this._overlayTimer=0,this._overlayHidden=!0,this._overlayNode=null,this.addClass(l),this._tabBar=new e.TabBar,
this._stackedPanel=new e.StackedPanel,this._overlayNode=this.createOverlay();var i=new e.BoxLayout(e.Direction.TopToBottom,0);i.addWidget(this._tabBar),i.addWidget(this._stackedPanel),this.layout=i,this.setFlag(e.WidgetFlag.DisallowLayoutChange),this.node.appendChild(this._overlayNode)}return __extends(i,t),Object.defineProperty(i.prototype,"tabBar",{get:function(){return this._tabBar},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"stackedPanel",{get:function(){return this._stackedPanel},enumerable:!0,configurable:!0}),i.prototype.dispose=function(){this._clearOverlayTimer(),this._tabBar=null,this._stackedPanel=null,this._overlayNode=null,t.prototype.dispose.call(this)},i.prototype.splitModeAt=function(t,e){var i=this.node.getBoundingClientRect(),n=(t-i.left)/i.width,o=(e-i.top)/i.height;if(0>n||n>1||0>o||o>1)return _.Invalid;var r,s=n>.5?1-n:n,a=o>.5?1-o:o;return r=a>s?.5>=n?_.Left:_.Right:.5>=o?_.Top:_.Bottom},i.prototype.showOverlay=function(t,e){this._clearOverlayTimer();var i=this.boxSizing,n=i.paddingTop,o=i.paddingLeft,r=i.paddingRight,s=i.paddingBottom;switch(this.splitModeAt(t,e)){case _.Left:r=this.width/2;break;case _.Right:o=this.width/2;break;case _.Top:s=this.height/2;break;case _.Bottom:n=this.height/2}var a=this._overlayNode.style;if(this._overlayHidden){this._overlayHidden=!1;var h=this.node.getBoundingClientRect();a.top=e-h.top+"px",a.left=t-h.left+"px",a.right=h.right-t+"px",a.bottom=h.bottom-e+"px",a.display="",this._overlayNode.offsetWidth}a.opacity="1",a.top=n+"px",a.left=o+"px",a.right=r+"px",a.bottom=s+"px"},i.prototype.hideOverlay=function(){var t=this;this._overlayHidden||(this._clearOverlayTimer(),this._overlayHidden=!0,this._overlayNode.style.opacity="0",this._overlayTimer=setTimeout(function(){t._overlayTimer=0,t._overlayNode.style.display="none"},150))},i.prototype.createOverlay=function(){var t=document.createElement("div");return t.className=p,t.style.display="none",t},i.prototype._clearOverlayTimer=function(){this._overlayTimer&&(clearTimeout(this._overlayTimer),this._overlayTimer=0)},i}(e.Widget),m=function(t){function e(e){t.call(this,e),this.addClass(u)}return __extends(e,t),e}(e.SplitPanel)}(e=t.widgets||(t.widgets={}))}(phosphor||(phosphor={}));var __decorate=this&&this.__decorate||function(t,e,i,n){if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)return Reflect.decorate(t,e,i,n);switch(arguments.length){case 2:return t.reduceRight(function(t,e){return e&&e(t)||t},e);case 3:return t.reduceRight(function(t,n){return void(n&&n(e,i))},void 0);case 4:return t.reduceRight(function(t,n){return n&&n(e,i,t)||t},n)}},phosphor;!function(t){var e;!function(e){var i=t.core.signal,n=function(){function t(t){this._text="",this._mnemonic="",this._shortcut="",this._className="",this._enabled=!0,this._visible=!0,this._type="normal",this._checked=!1,this._submenu=null,t&&this._initFrom(t)}return Object.defineProperty(t.prototype,"type",{get:function(){return this._type},set:function(t){if(t!==this._type){if("normal"!==t&&"check"!==t&&"separator"!==t)throw new Error("invalid menu item type: "+t);this._type=t,this._checked=!1,this.changed.emit(void 0)}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return this._text},set:function(t){t!==this._text&&(this._text=t,this.changed.emit(void 0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mnemonic",{get:function(){return this._mnemonic},set:function(t){t===this._mnemonic||t.length>1||(this._mnemonic=t,this.changed.emit(void 0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"shortcut",{get:function(){return this._shortcut},set:function(t){t!==this._shortcut&&(this._shortcut=t,this.changed.emit(void 0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"enabled",{get:function(){return this._enabled},set:function(t){t!==this._enabled&&(this._enabled=t,this.changed.emit(void 0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"visible",{get:function(){return this._visible},set:function(t){t!==this._visible&&(this._visible=t,this.changed.emit(void 0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"checked",{get:function(){return this._checked},set:function(t){"check"===this._type&&t!==this._checked&&(this._checked=t,this.changed.emit(void 0),this.toggled.emit(t))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"submenu",{get:function(){return this._submenu},set:function(t){t!==this._submenu&&(this._submenu=t,this.changed.emit(void 0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return this._className},set:function(t){t!==this._className&&(this._className=t,this.changed.emit(void 0))},enumerable:!0,configurable:!0}),t.prototype.trigger=function(){"check"===this._type&&(this.checked=!this.checked),this.triggered.emit(this.checked)},t.prototype._initFrom=function(t){void 0!==t.type&&(this.type=t.type),void 0!==t.text&&(this._text=t.text),void 0!==t.mnemonic&&(this.mnemonic=t.mnemonic),void 0!==t.shortcut&&(this._shortcut=t.shortcut),void 0!==t.enabled&&(this._enabled=t.enabled),void 0!==t.visible&&(this._visible=t.visible),void 0!==t.checked&&(this.checked=t.checked),void 0!==t.submenu&&(this._submenu=t.submenu),void 0!==t.className&&(this._className=t.className)},__decorate([i],t.prototype,"changed"),__decorate([i],t.prototype,"toggled"),__decorate([i],t.prototype,"triggered"),t}();e.MenuItem=n}(e=t.widgets||(t.widgets={}))}(phosphor||(phosphor={}));var __extends=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);i.prototype=e.prototype,t.prototype=new i},__decorate=this&&this.__decorate||function(t,e,i,n){if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)return Reflect.decorate(t,e,i,n);switch(arguments.length){case 2:return t.reduceRight(function(t,e){return e&&e(t)||t},e);case 3:return t.reduceRight(function(t,n){return void(n&&n(e,i))},void 0);case 4:return t.reduceRight(function(t,n){return n&&n(e,i,t)||t},n)}},phosphor;!function(t){var e;!function(e){function i(t){return t&&"separator"!==t.type&&t.visible}function n(t){return i(t)}function o(t){return n(t)&&t.enabled}function r(t,e,i){var n=t.node,o=n.style;o.top="",o.left="",o.width="",o.height="",o.visibility="hidden",document.body.appendChild(t.node);var r=n.getBoundingClientRect(),s=Math.ceil(r.width),a=Math.ceil(r.height),h=e.height-i;return a>h&&(a=h,s+=17),new f(s,a)}function s(t,e,i,n,o){var r=t.node.style;r.top=Math.max(0,i)+"px",r.left=Math.max(0,e)+"px",r.width=n+"px",r.height=o+"px",r.visibility=""}function a(t,e,i,n,o){var a=_(),h=r(t,a,o?i:0);!n&&e+h.width>a.right&&(e=a.right-h.width),!o&&i+h.height>a.bottom&&(i>a.bottom?i=a.bottom-h.height:i-=h.height),s(t,e,i,h.width,h.height)}function h(t,e){var i=_(),n=r(t,i,0),o=v(t.node),a=e.getBoundingClientRect(),h=a.right-j,c=a.top-o.borderTop-o.paddingTop;h+n.width>i.right&&(h=a.left+j-n.width),c+n.height>i.bottom&&(c=a.bottom+o.borderBottom+o.paddingBottom-n.height),s(t,h,c,n.width,n.height)}var c=t.collections.algorithm,u=t.core.NodeBase,l=t.core.clearSignalData,p=t.core.sender,d=t.core.signal,f=t.utility.Size,_=t.utility.clientViewportRect,v=t.utility.createBoxSizing,m=t.utility.hitTest,y="p-Menu",g="p-Menu-content",b="p-Menu-item",x="p-Menu-item-icon",w="p-Menu-item-text",z="p-Menu-item-shortcut",M="p-Menu-item-submenu-icon",S="p-mod-check-type",P="p-mod-separator-type",O="p-mod-active",I="p-mod-disabled",C="p-mod-hidden",T="p-mod-force-hidden",k="p-mod-checked",A="p-mod-has-submenu",W=300,F=300,j=3,H=function(t){function e(e){var i=this;t.call(this),this._openTimer=0,this._closeTimer=0,this._activeIndex=-1,this._parentMenu=null,this._childMenu=null,this._childItem=null,this._items=[],this._nodes=[],this.addClass(y),e&&e.forEach(function(t){return i.addItem(t)})}return __extends(e,t),e.createNode=function(){var t=document.createElement("div"),e=document.createElement("ul");return e.className=g,t.appendChild(e),t},e.rootMenu=function(t){for(;t._parentMenu;)t=t._parentMenu;return t},e.leafMenu=function(t){for(;t._childMenu;)t=t._childMenu;return t},e.prototype.dispose=function(){this.close(),l(this),this._items=null,this._nodes=null,t.prototype.dispose.call(this)},Object.defineProperty(e.prototype,"parentMenu",{get:function(){return this._parentMenu},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"childMenu",{get:function(){return this._childMenu},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"activeIndex",{get:function(){return this._activeIndex},set:function(t){var e=n(this._items[t]);this._setActiveIndex(e?t:-1)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"activeItem",{get:function(){return this._items[this._activeIndex]},set:function(t){this.activeIndex=this.indexOf(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"count",{get:function(){return this._items.length},enumerable:!0,configurable:!0}),e.prototype.itemAt=function(t){return this._items[t]},e.prototype.indexOf=function(t){return c.indexOf(this._items,t)},e.prototype.addItem=function(t){return this.insertItem(this.count,t)},e.prototype.insertItem=function(t,e){this.removeItem(e),-1!==this._activeIndex&&this._reset();var i=this.createItemNode(e);return t=c.insert(this._items,t,e),c.insert(this._nodes,t,i),e.changed.connect(this._p_changed,this),i.addEventListener("mouseenter",this),this.insertItemNode(t,i),this._collapseSeparators(),t},e.prototype.removeAt=function(t){-1!==this._activeIndex&&this._reset();var e=c.removeAt(this._items,t),i=c.removeAt(this._nodes,t);return e&&e.changed.disconnect(this._p_changed,this),i&&(i.removeEventListener("mouseenter",this),this.removeItemNode(i)),this._collapseSeparators(),e},e.prototype.removeItem=function(t){var e=this.indexOf(t);return-1!==e&&this.removeAt(e),e},e.prototype.clearItems=function(){for(;this.count;)this.removeAt(this.count-1)},e.prototype.activateNextItem=function(){var t=this._activeIndex+1,e=c.findIndex(this._items,n,t,!0);this._setActiveIndex(e)},e.prototype.activatePreviousItem=function(){var t=Math.max(-1,this._activeIndex-1),e=c.findLastIndex(this._items,n,t,!0);this._setActiveIndex(e)},e.prototype.activateMnemonicItem=function(t){t=t.toUpperCase();var e=c.findIndex(this._items,function(e){return o(e)&&e.mnemonic.toUpperCase()===t},this._activeIndex+1,!0);this._setActiveIndex(e)},e.prototype.openActiveItem=function(){var t=this._activeIndex,e=this._items[t];return e&&e.submenu&&e.enabled?(this._openChildMenu(e,this._nodes[t],!1),this._childMenu.activateNextItem(),!0):!1},e.prototype.triggerActiveItem=function(){var t=this._activeIndex,i=this._items[t];return i&&i.enabled?(i.submenu?(this._openChildMenu(i,this._nodes[t],!1),this._childMenu.activateNextItem()):(e.rootMenu(this).close(),i.trigger()),!0):!1},e.prototype.popup=function(t,e,i,n){void 0===i&&(i=!1),void 0===n&&(n=!1);var o=this.node;o.parentNode||(o.addEventListener("mouseup",this),o.addEventListener("mouseleave",this),o.addEventListener("contextmenu",this),document.addEventListener("keydown",this,!0),document.addEventListener("keypress",this,!0),document.addEventListener("mousedown",this,!0),a(this,t,e,i,n))},e.prototype.open=function(t,e,i,n){void 0===i&&(i=!1),void 0===n&&(n=!1);var o=this.node;o.parentNode||(o.addEventListener("mouseup",this),o.addEventListener("mouseleave",this),o.addEventListener("contextmenu",this),a(this,t,e,i,n))},e.prototype.close=function(){var t=this.node;t.parentNode&&(t.parentNode.removeChild(t),t.removeEventListener("mouseup",this),t.removeEventListener("mouseleave",this),t.removeEventListener("contextmenu",this),document.removeEventListener("keydown",this,!0),document.removeEventListener("keypress",this,!0),document.removeEventListener("mousedown",this,!0),this._reset(),this._removeFromParent(),this.closed.emit(void 0))},e.prototype.handleEvent=function(t){switch(t.type){case"mouseenter":this._evtMouseEnter(t);break;case"mouseleave":this._evtMouseLeave(t);break;case"mousedown":this._evtMouseDown(t);break;case"mouseup":this._evtMouseUp(t);break;case"contextmenu":this._evtContextMenu(t);break;case"keydown":this._evtKeyDown(t);break;case"keypress":this._evtKeyPress(t)}},e.prototype.createItemNode=function(t){var e=document.createElement("li"),i=document.createElement("span"),n=document.createElement("span"),o=document.createElement("span"),r=document.createElement("span");return i.className=x,n.className=w,o.className=z,r.className=M,e.appendChild(i),e.appendChild(n),e.appendChild(o),e.appendChild(r),this.initItemNode(t,e),e},e.prototype.initItemNode=function(t,e){var i=[b];t.className&&i.push(t.className),"check"===t.type?i.push(S):"separator"===t.type&&i.push(P),t.checked&&i.push(k),t.enabled||i.push(I),t.visible||i.push(C),t.submenu&&i.push(A),e.className=i.join(" "),e.children[1].textContent=t.text,e.children[2].textContent=t.shortcut},e.prototype.insertItemNode=function(t,e){var i=this.node.firstChild;i.insertBefore(e,i.childNodes[t])},e.prototype.removeItemNode=function(t){var e=this.node.firstChild;e.removeChild(t)},e.prototype._evtMouseEnter=function(t){this._syncAncestors(),this._closeChildMenu(),this._cancelPendingOpen();var e=t.currentTarget,i=c.indexOf(this._nodes,e);if(-1===i)return void this._setActiveIndex(-1);var n=this._items[i];return"separator"===n.type?void this._setActiveIndex(-1):(this._setActiveIndex(i),void(n.submenu&&n.enabled&&(n===this._childItem?this._cancelPendingClose():this._openChildMenu(n,e,!0))))},e.prototype._evtMouseLeave=function(t){this._cancelPendingOpen();var e=this._childMenu;e&&m(e.node,t.clientX,t.clientY)||(this._setActiveIndex(-1),this._closeChildMenu())},e.prototype._evtMouseUp=function(t){if(t.preventDefault(),t.stopPropagation(),0===t.button){var e=t.clientX,i=t.clientY,n=c.findIndex(this._nodes,function(t){return m(t,e,i)});n===this._activeIndex&&this.triggerActiveItem()}},e.prototype._evtContextMenu=function(t){t.preventDefault(),t.stopPropagation()},e.prototype._evtMouseDown=function(t){for(var e=this,i=!1,n=t.clientX,o=t.clientY;!i&&e;)i=m(e.node,n,o),e=e._childMenu;i||this.close()},e.prototype._evtKeyDown=function(t){t.stopPropagation();var i=e.leafMenu(this);switch(t.keyCode){case 13:t.preventDefault(),i.triggerActiveItem();break;case 27:t.preventDefault(),i.close();break;case 37:t.preventDefault(),i!==this&&i.close();break;case 38:t.preventDefault(),i.activatePreviousItem();break;case 39:t.preventDefault(),i.openActiveItem();break;case 40:t.preventDefault(),i.activateNextItem()}},e.prototype._evtKeyPress=function(t){t.preventDefault(),t.stopPropagation();var i=String.fromCharCode(t.charCode);e.leafMenu(this).activateMnemonicItem(i)},e.prototype._setActiveIndex=function(t){var e=this._nodes[this._activeIndex],i=this._nodes[t];this._activeIndex=t,e!==i&&(e&&e.classList.remove(O),i&&i.classList.add(O))},e.prototype._syncAncestors=function(){for(var t=this._parentMenu;t;)t._cancelPendingOpen(),t._cancelPendingClose(),t._syncChildItem(),t=t._parentMenu},e.prototype._syncChildItem=function(){var t=this.indexOf(this._childItem);-1!==t&&this._setActiveIndex(t)},e.prototype._openChildMenu=function(t,e,i){var n=this;if(t!==this._childItem)if(this._cancelPendingOpen(),i)this._openTimer=setTimeout(function(){var i=t.submenu;n._openTimer=0,n._childItem=t,n._childMenu=i,i._parentMenu=n,i._openAsSubmenu(e)},W);else{var o=t.submenu;this._childItem=t,this._childMenu=o,o._parentMenu=this,o._openAsSubmenu(e)}},e.prototype._openAsSubmenu=function(t){var e=this.node;e.addEventListener("mouseup",this),e.addEventListener("mouseleave",this),e.addEventListener("contextmenu",this),h(this,t)},e.prototype._closeChildMenu=function(){var t=this;!this._closeTimer&&this._childMenu&&(this._closeTimer=setTimeout(function(){t._closeTimer=0,t._childMenu&&(t._childMenu.close(),t._childMenu=null,t._childItem=null)},F))},e.prototype._reset=function(){this._cancelPendingOpen(),this._cancelPendingClose(),this._setActiveIndex(-1),this._childMenu&&(this._childMenu.close(),this._childMenu=null,this._childItem=null)},e.prototype._removeFromParent=function(){var t=this._parentMenu;t&&(this._parentMenu=null,t._cancelPendingOpen(),t._cancelPendingClose(),t._childMenu=null,t._childItem=null)},e.prototype._cancelPendingOpen=function(){this._openTimer&&(clearTimeout(this._openTimer),this._openTimer=0)},e.prototype._cancelPendingClose=function(){this._closeTimer&&(clearTimeout(this._closeTimer),this._closeTimer=0)},e.prototype._collapseSeparators=function(){for(var t=this._items,e=this._nodes,n=!0,o=c.findLastIndex(t,i),r=0,s=t.length;s>r;++r){var a=t[r];"separator"===a.type?n||r>o?e[r].classList.add(T):a.visible&&(e[r].classList.remove(T),n=!0):a.visible&&(n=!1)}},e.prototype._p_changed=function(){var t=p(),e=this.indexOf(t);-1!==e&&(e===this._activeIndex&&this._reset(),this.initItemNode(t,this._nodes[e]),this._collapseSeparators())},__decorate([d],e.prototype,"closed"),e}(u);e.Menu=H}(e=t.widgets||(t.widgets={}))}(phosphor||(phosphor={}));var __extends=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);i.prototype=e.prototype,t.prototype=new i},phosphor;!function(t){var e;!function(e){function i(t){return t&&"separator"!==t.type&&t.visible}function n(t){return i(t)&&t.enabled}function o(t,e,i){for(;t;){if(h(t.node,e,i))return!0;t=t.childMenu}return!1}var r=t.collections.algorithm,s=t.core.sender,a=t.utility.Size,h=t.utility.hitTest,c="p-MenuBar",u="p-MenuBar-content",l="p-MenuBar-menu",p="p-MenuBar-item",d="p-MenuBar-item-icon",f="p-MenuBar-item-text",_="p-mod-separator-type",v="p-mod-active",m="p-mod-selected",y="p-mod-disabled",g="p-mod-hidden",b="p-mod-force-hidden",x=function(t){function x(i){var n=this;t.call(this),this._activeIndex=-1,this._childMenu=null,this._items=[],this._nodes=[],this._state=w.Inactive,this.addClass(c),this.verticalSizePolicy=e.SizePolicy.Fixed,this.setFlag(e.WidgetFlag.DisallowLayoutChange),i&&i.forEach(function(t){return n.addItem(t)})}return __extends(x,t),x.createNode=function(){var t=document.createElement("div"),e=document.createElement("ul");return e.className=u,t.appendChild(e),t},x.prototype.dispose=function(){this._closeChildMenu(),this._items=null,this._nodes=null,t.prototype.dispose.call(this)},Object.defineProperty(x.prototype,"childMenu",{get:function(){return this._childMenu},enumerable:!0,configurable:!0}),Object.defineProperty(x.prototype,"activeIndex",{get:function(){return this._activeIndex},set:function(t){var e=n(this._items[t]);this._setActiveIndex(e?t:-1)},enumerable:!0,configurable:!0}),Object.defineProperty(x.prototype,"activeItem",{get:function(){return this._items[this._activeIndex]},set:function(t){this.activeIndex=this.indexOf(t)},enumerable:!0,configurable:!0}),Object.defineProperty(x.prototype,"count",{get:function(){return this._items.length},enumerable:!0,configurable:!0}),x.prototype.itemAt=function(t){return this._items[t]},x.prototype.indexOf=function(t){return r.indexOf(this._items,t)},x.prototype.addItem=function(t){return this.insertItem(this.count,t)},x.prototype.insertItem=function(t,e){this.removeItem(e),-1!==this._activeIndex&&(this._setState(w.Inactive),this._setActiveIndex(-1));var i=this.createItemNode(e);return t=r.insert(this._items,t,e),r.insert(this._nodes,t,i),e.changed.connect(this._p_changed,this),this.insertItemNode(t,i),this._collapseSeparators(),t},x.prototype.removeAt=function(t){-1!==this._activeIndex&&(this._setState(w.Inactive),this._setActiveIndex(-1));var e=r.removeAt(this._items,t),i=r.removeAt(this._nodes,t);return e&&e.changed.disconnect(this._p_changed,this),i&&this.removeItemNode(i),this._collapseSeparators(),e},x.prototype.removeItem=function(t){var e=this.indexOf(t);return-1!==e&&this.removeAt(e),e},x.prototype.clearItems=function(){for(;this.count;)this.removeAt(this.count-1)},x.prototype.activateNextItem=function(){var t=this._activeIndex+1,e=r.findIndex(this._items,n,t,!0);this._setActiveIndex(e);var i=this._childMenu;i&&i.activateNextItem()},x.prototype.activatePreviousItem=function(){var t=Math.max(-1,this._activeIndex-1),e=r.findLastIndex(this._items,n,t,!0);this._setActiveIndex(e);var i=this._childMenu;i&&i.activateNextItem()},x.prototype.activateMnemonicItem=function(t){t=t.toUpperCase();var e=r.findIndex(this._items,function(e){return n(e)&&e.mnemonic.toUpperCase()===t},this._activeIndex+1,!0);this._setActiveIndex(e);var i=this._childMenu;i&&i.activateNextItem()},x.prototype.openActiveItem=function(){var t=this._activeIndex,e=this._items[t];if(!e)return!1;this._setState(w.Active),this._setActiveIndex(t);var i=this._childMenu;return i&&i.activateNextItem(),!0},x.prototype.sizeHint=function(){return this.minSizeHint()},x.prototype.minSizeHint=function(){return new a(0,this.boxSizing.minHeight)},x.prototype.handleEvent=function(t){switch(t.type){case"mousedown":this._evtMouseDown(t);break;case"mousemove":this._evtMouseMove(t);break;case"mouseleave":this._evtMouseLeave(t);break;case"keydown":this._evtKeyDown(t);break;case"keypress":this._evtKeyPress(t)}},x.prototype.createItemNode=function(t){var e=document.createElement("li"),i=document.createElement("span"),n=document.createElement("span");return i.className=d,n.className=f,e.appendChild(i),e.appendChild(n),this.initItemNode(t,e),e},x.prototype.initItemNode=function(t,e){var i=[p];t.className&&i.push(t.className),"separator"===t.type&&i.push(_),t.enabled||i.push(y),t.visible||i.push(g),e.className=i.join(" "),e.children[1].textContent=t.text},x.prototype.insertItemNode=function(t,e){var i=this.node.firstChild;i.insertBefore(e,i.childNodes[t])},x.prototype.removeItemNode=function(t){var e=this.node.firstChild;e.removeChild(t)},x.prototype.onAfterAttach=function(t){this.node.addEventListener("mousedown",this),this.node.addEventListener("mousemove",this),this.node.addEventListener("mouseleave",this)},x.prototype.onAfterDetach=function(t){this.node.removeEventListener("mousedown",this),this.node.removeEventListener("mousemove",this),this.node.removeEventListener("mouseleave",this)},x.prototype._evtMouseDown=function(t){var e=t.clientX,i=t.clientY;if(this._state===w.Inactive){if(0!==t.button)return;var s=r.findIndex(this._nodes,function(t){return h(t,e,i)});if(!n(this._items[s]))return;this._setState(w.Active),this._setActiveIndex(s)}else{if(o(this._childMenu,e,i))return;this._setState(w.Inactive);var s=r.findIndex(this._nodes,function(t){return h(t,e,i)}),a=n(this._items[s]);this._setActiveIndex(a?s:-1)}},x.prototype._evtMouseMove=function(t){var e=t.clientX,i=t.clientY,o=r.findIndex(this._nodes,function(t){return h(t,e,i)});if(o!==this._activeIndex&&(-1!==o||this._state!==w.Active)){var s=n(this._items[o]);this._setActiveIndex(s?o:-1)}},x.prototype._evtMouseLeave=function(t){this._state===w.Inactive&&this._setActiveIndex(-1)},x.prototype._evtKeyDown=function(t){t.stopPropagation();var i=this._childMenu,n=i&&e.Menu.leafMenu(i);switch(t.keyCode){case 13:t.preventDefault(),n&&n.triggerActiveItem();break;case 27:t.preventDefault(),n&&n!==i?n.close():(this._setState(w.Inactive),this._setActiveIndex(-1));break;case 37:t.preventDefault(),n&&n!==i?n.close():this.activatePreviousItem();break;case 38:t.preventDefault(),n&&n.activatePreviousItem();break;case 39:t.preventDefault(),n&&n.openActiveItem()||this.activateNextItem();break;case 40:t.preventDefault(),n&&n.activateNextItem()}},x.prototype._evtKeyPress=function(t){t.preventDefault(),t.stopPropagation();var i=String.fromCharCode(t.charCode);this._childMenu?e.Menu.leafMenu(this._childMenu).activateMnemonicItem(i):this.activateMnemonicItem(i)},x.prototype._setActiveIndex=function(t){var e=this._nodes[this._activeIndex],i=this._nodes[t];if(this._activeIndex=t,e&&(e.classList.remove(v),e.classList.remove(m)),i&&i.classList.add(v),i&&this._state!==w.Inactive&&i.classList.add(m),this._closeChildMenu(),i&&this._state===w.Active){var n=this._items[t];n.submenu&&this._openChildMenu(n.submenu,i)}},x.prototype._openChildMenu=function(t,e){var i=e.getBoundingClientRect();this._childMenu=t,t.addClass(l),t.open(i.left,i.bottom,!1,!0),t.closed.connect(this._p_closed,this)},x.prototype._closeChildMenu=function(){this._childMenu&&(this._childMenu.closed.disconnect(this._p_closed,this),this._childMenu.removeClass(l),this._childMenu.close(),this._childMenu=null)},x.prototype._setState=function(t){t!==this._state&&(t===w.Inactive?this._useInactiveListeners():this._useActiveListeners(),this._state=t)},x.prototype._useInactiveListeners=function(){var t=this;setTimeout(function(){t.node.addEventListener("mousedown",t),document.removeEventListener("mousedown",t,!0),document.removeEventListener("keydown",t,!0),document.removeEventListener("keypress",t,!0)},0)},x.prototype._useActiveListeners=function(){var t=this;setTimeout(function(){t.node.removeEventListener("mousedown",t),document.addEventListener("mousedown",t,!0),document.addEventListener("keydown",t,!0),document.addEventListener("keypress",t,!0)},0)},x.prototype._collapseSeparators=function(){for(var t=this._items,e=this._nodes,n=!0,o=r.findLastIndex(t,i),s=0,a=t.length;a>s;++s){var h=t[s];"separator"===h.type?n||s>o?e[s].classList.add(b):h.visible&&(e[s].classList.remove(b),n=!0):h.visible&&(n=!1)}},x.prototype._p_closed=function(){var t=s();t.closed.disconnect(this._p_closed,this),t.removeClass(l),this._childMenu=null,this._setState(w.Inactive),this._setActiveIndex(-1)},x.prototype._p_changed=function(){var t=s(),e=this.indexOf(t);-1!==e&&(e===this._activeIndex&&(this._setState(w.Inactive),this._setActiveIndex(-1)),this.initItemNode(t,this._nodes[e]),this._collapseSeparators())},x}(e.Widget);e.MenuBar=x;var w;!function(t){t[t.Inactive=0]="Inactive",t[t.Active=1]="Active"}(w||(w={}))}(e=t.widgets||(t.widgets={}))}(phosphor||(phosphor={}));var __extends=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);i.prototype=e.prototype,t.prototype=new i},phosphor;!function(t){var e;!function(e){var i=t.core.Message,n=t.core.sendMessage,o=t.utility.emptyObject,r=t.virtualdom.render,s="p-RenderWidget",a=new i("before-render"),h=new i("after-render"),c=function(t){function i(){t.call(this),this._refs=o,this.addClass(s),this.setFlag(e.WidgetFlag.DisallowLayoutChange)}return __extends(i,t),i.prototype.dispose=function(){this._refs=null,t.prototype.dispose.call(this)},Object.defineProperty(i.prototype,"refs",{get:function(){return this._refs},enumerable:!0,configurable:!0}),i.prototype.processMessage=function(e){switch(e.type){case"before-render":this.onBeforeRender(e);break;case"after-render":this.onAfterRender(e);break;default:t.prototype.processMessage.call(this,e)}},i.prototype.render=function(){return null},i.prototype.onUpdateRequest=function(t){n(this,a),this._refs=r(this.render(),this.node),n(this,h)},i.prototype.onAfterAttach=function(t){this.update(!0)},i.prototype.onBeforeRender=function(t){},i.prototype.onAfterRender=function(t){},i}(e.Widget);e.RenderWidget=c}(e=t.widgets||(t.widgets={}))}(phosphor||(phosphor={}));var __extends=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);i.prototype=e.prototype,t.prototype=new i},__decorate=this&&this.__decorate||function(t,e,i,n){if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)return Reflect.decorate(t,e,i,n);switch(arguments.length){case 2:return t.reduceRight(function(t,e){return e&&e(t)||t},e);case 3:return t.reduceRight(function(t,n){return void(n&&n(e,i))},void 0);case 4:return t.reduceRight(function(t,n){return n&&n(e,i,t)||t},n)}},phosphor;!function(t){var e;!function(e){var i=t.core.signal,n=t.utility.Size,o=t.utility.overrideCursor,r="p-ScrollBar",s="p-ScrollBar-slider",a="p-mod-active",h="p-mod-horizontal",c="p-mod-vertical",u=function(t){function u(i){void 0===i&&(i=e.Orientation.Vertical),t.call(this),this._value=0,this._minimum=0,this._maximum=99,this._pageSize=1,this._sliderMinSize=-1,this._dragData=null,this.addClass(r),this._orientation=i,this.setFlag(e.WidgetFlag.DisallowLayoutChange),i===e.Orientation.Horizontal?(this.addClass(h),this.setSizePolicy(e.SizePolicy.Expanding,e.SizePolicy.Fixed)):(this.addClass(c),this.setSizePolicy(e.SizePolicy.Fixed,e.SizePolicy.Expanding))}return __extends(u,t),u.createNode=function(){var t=document.createElement("div"),e=document.createElement("div");return e.className=s,t.appendChild(e),t},Object.defineProperty(u.prototype,"orientation",{get:function(){return this._orientation},set:function(t){t!==this._orientation&&(this._sliderMinSize=-1,this._orientation=t,t===e.Orientation.Horizontal?(this.removeClass(c),this.addClass(h),this.setSizePolicy(e.SizePolicy.Expanding,e.SizePolicy.Fixed)):(this.removeClass(h),this.addClass(c),this.setSizePolicy(e.SizePolicy.Fixed,e.SizePolicy.Expanding)),this.invalidateBoxSizing(),this.update())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"minimum",{get:function(){return this._minimum},set:function(t){t!==this._minimum&&(this._minimum=t,this._maximum=Math.max(t,this._maximum),this._value=Math.max(t,Math.min(this._value,this._maximum)),this.update())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"maximum",{get:function(){return this._maximum},set:function(t){t!==this._maximum&&(this._maximum=t,this._minimum=Math.min(this._minimum,t),this._value=Math.max(this._minimum,Math.min(this._value,t)),this.update())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"value",{get:function(){return this._value},set:function(t){t=Math.max(this._minimum,Math.min(t,this._maximum)),t!==this._value&&(this._value=t,this.update())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"pageSize",{get:function(){return this._pageSize},set:function(t){t=Math.max(0,t),t!==this._pageSize&&(this._pageSize=t,this.update())},enumerable:!0,configurable:!0}),u.prototype.sizeHint=function(){var t;return t=this._orientation===e.Orientation.Horizontal?new n(0,this.boxSizing.minHeight):new n(this.boxSizing.minWidth,0)},u.prototype.handleEvent=function(t){switch(t.type){case"mousedown":this._evtMouseDown(t);break;case"mousemove":this._evtMouseMove(t);break;case"mouseup":this._evtMouseUp(t)}},u.prototype.onAfterAttach=function(t){this.node.addEventListener("mousedown",this),this._sliderMinSize=-1},u.prototype.onAfterDetach=function(t){this.node.removeEventListener("mousedown",this)},u.prototype.onResize=function(t){this.update(!0)},u.prototype.onUpdateRequest=function(t){var i=this.node.firstChild.style;if(this._minimum===this._maximum)return void(i.display="none");var n,o,r=this.boxSizing;this._orientation===e.Orientation.Horizontal?(n=r.paddingLeft,o=this.width-r.horizontalSum):(n=r.paddingTop,o=this.height-r.verticalSum);var s=this._getSliderMinSize(),a=this._maximum-this._minimum,h=this._pageSize*o/(a+this._pageSize);h=Math.max(s,h);var c=this._value/a*(o-h);return h+c>o&&(c=o-h),0>c?void(i.display="none"):(i.display="",void(this._orientation===e.Orientation.Horizontal?(i.top="",i.left=n+c+"px",i.width=h+"px",i.height=""):(i.top=n+c+"px",i.left="",i.width="",i.height=h+"px")))},u.prototype._evtMouseDown=function(t){if(0===t.button){t.preventDefault(),t.stopPropagation();var i,n,r,s,h,c=this.boxSizing,u=this.node.getBoundingClientRect(),l=this.node.firstChild,p=l.getBoundingClientRect();if(this._orientation===e.Orientation.Horizontal?(i=t.clientX-u.left-c.paddingLeft,n=this.width-c.horizontalSum,r=p.left-u.left-c.paddingLeft,s=p.right-u.left-c.paddingLeft,h=p.width):(i=t.clientY-u.top-c.paddingTop,n=this.height-c.verticalSum,r=p.top-u.top-c.paddingTop,s=p.bottom-u.top-c.paddingTop,h=p.height),t.shiftKey&&(r>i||i>=s)){var d=(i-h/2)/(n-h);return void this._scrollTo(d*(this._maximum-this._minimum))}if(r>i)return void this._scrollTo(this._value-this._pageSize);if(i>=s)return void this._scrollTo(this._value+this._pageSize);this.addClass(a);var f=i-r,_=o("default");this._dragData={pressOffset:f,cursorGrab:_
},document.addEventListener("mousemove",this,!0),document.addEventListener("mouseup",this,!0)}},u.prototype._evtMouseMove=function(t){var i,n,o,r=this.boxSizing,s=this.node.getBoundingClientRect(),a=this.node.firstChild,h=a.getBoundingClientRect();this._orientation===e.Orientation.Horizontal?(i=t.clientX-s.left-r.paddingLeft,n=this.width-r.horizontalSum,o=h.width):(i=t.clientY-s.top-r.paddingTop,n=this.height-r.verticalSum,o=h.height);var c=this._dragData.pressOffset,u=(i-c)/(n-o);this._scrollTo(u*(this._maximum-this._minimum))},u.prototype._evtMouseUp=function(t){0===t.button&&(t.preventDefault(),t.stopPropagation(),document.removeEventListener("mousemove",this,!0),document.removeEventListener("mouseup",this,!0),this.removeClass(a),this._dragData&&(this._dragData.cursorGrab.dispose(),this._dragData=null))},u.prototype._scrollTo=function(t){t=Math.max(this._minimum,Math.min(t,this._maximum)),t!==this._value&&(this._value=t,this.update(!0),this.sliderMoved.emit(t))},u.prototype._getSliderMinSize=function(){if(-1===this._sliderMinSize){var t=window.getComputedStyle(this.node.firstChild);this._sliderMinSize=this._orientation===e.Orientation.Horizontal?parseInt(t.minWidth,10)||0:parseInt(t.minHeight,10)||0}return this._sliderMinSize},__decorate([i],u.prototype,"sliderMoved"),u}(e.Widget);e.ScrollBar=u}(e=t.widgets||(t.widgets={}))}(phosphor||(phosphor={}));var __extends=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);i.prototype=e.prototype,t.prototype=new i},phosphor;!function(t){var e;!function(e){var i=t.core.NodeBase,n="p-Tab",o="p-Tab-text",r="p-Tab-icon",s="p-Tab-close-icon",a="p-mod-selected",h="p-mod-closable",c=function(t){function e(e){t.call(this),this.addClass(n),e&&(this.text=e)}return __extends(e,t),e.createNode=function(){var t=document.createElement("li"),e=document.createElement("span"),i=document.createElement("span"),n=document.createElement("span");return e.className=r,i.className=o,n.className=s,t.appendChild(e),t.appendChild(i),t.appendChild(n),t},Object.defineProperty(e.prototype,"text",{get:function(){return this.node.children[1].textContent},set:function(t){this.node.children[1].textContent=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selected",{get:function(){return this.hasClass(a)},set:function(t){t?this.addClass(a):this.removeClass(a)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"closable",{get:function(){return this.hasClass(h)},set:function(t){t?this.addClass(h):this.removeClass(h)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"closeIconNode",{get:function(){return this.node.lastChild},enumerable:!0,configurable:!0}),e}(i);e.Tab=c}(e=t.widgets||(t.widgets={}))}(phosphor||(phosphor={}));var __extends=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);i.prototype=e.prototype,t.prototype=new i},__decorate=this&&this.__decorate||function(t,e,i,n){if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)return Reflect.decorate(t,e,i,n);switch(arguments.length){case 2:return t.reduceRight(function(t,e){return e&&e(t)||t},e);case 3:return t.reduceRight(function(t,n){return void(n&&n(e,i))},void 0);case 4:return t.reduceRight(function(t,n){return n&&n(e,i,t)||t},n)}},phosphor;!function(t){var e;!function(e){function i(t,e,i,n){return i<t.left-e?!1:i>=t.right+e?!1:n<t.top-e?!1:n>=t.bottom+e?!1:!0}function n(t,e){t&&e&&e.parentNode===t&&t.removeChild(e)}var o=t.collections.algorithm,r=t.core.signal,s=t.utility.Pair,a=t.utility.Size,h=t.utility.hitTest,c=t.utility.overrideCursor,u="p-TabBar",l="p-TabBar-header",p="p-TabBar-content",d="p-TabBar-footer",f="p-mod-transition",_="p-mod-inserting",v="p-mod-removing",m=.6,y=5,g=20,b=150,x=7,w=function(t){function w(i){t.call(this),this._tabWidth=175,this._tabOverlap=0,this._minTabWidth=45,this._tabs=[],this._tabsMovable=!0,this._currentTab=null,this._previousTab=null,this._dragData=null,this.addClass(u),this.verticalSizePolicy=e.SizePolicy.Fixed,this.setFlag(e.WidgetFlag.DisallowLayoutChange),i&&this._initFrom(i)}return __extends(w,t),w.createNode=function(){var t=document.createElement("div"),e=document.createElement("div"),i=document.createElement("ul"),n=document.createElement("div");return e.className=l,i.className=p,n.className=d,t.appendChild(e),t.appendChild(i),t.appendChild(n),t},w.prototype.dispose=function(){this._releaseMouse(),this._previousTab=null,this._currentTab=null,this._tabs=null,t.prototype.dispose.call(this)},Object.defineProperty(w.prototype,"currentIndex",{get:function(){return this.indexOf(this.currentTab)},set:function(t){var e=this._currentTab,i=this.tabAt(t)||null;e!==i&&(e&&(e.selected=!1),i&&(i.selected=!0),this._currentTab=i,this._previousTab=e,this._updateTabZOrder(),this.currentChanged.emit(new s(i?t:-1,i)))},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"currentTab",{get:function(){return this._currentTab},set:function(t){this.currentIndex=this.indexOf(t)},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"previousTab",{get:function(){return this._previousTab},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"tabsMovable",{get:function(){return this._tabsMovable},set:function(t){t!==this._tabsMovable&&(this._tabsMovable=t,t||this._releaseMouse())},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"tabWidth",{get:function(){return this._tabWidth},set:function(t){t=Math.max(0,t),t!==this._tabWidth&&(this._tabWidth=t,this.isAttached&&(this.updateGeometry(),this.update()))},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"minTabWidth",{get:function(){return this._minTabWidth},set:function(t){t=Math.max(0,t),t!==this._minTabWidth&&(this._minTabWidth=t,this.isAttached&&(this.updateGeometry(),this.update()))},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"tabOverlap",{get:function(){return this._tabOverlap},set:function(t){t!==this._tabOverlap&&(this._tabOverlap=t,this.isAttached&&(this.updateGeometry(),this.update()))},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"count",{get:function(){return this._tabs.length},enumerable:!0,configurable:!0}),w.prototype.tabAt=function(t){return this._tabs[t]},w.prototype.indexOf=function(t){return o.indexOf(this._tabs,t)},w.prototype.addTab=function(t){return this.insertTab(this.count,t)},w.prototype.insertTab=function(t,e){var i=this.indexOf(e);return t=-1!==i?this._moveTab(i,t):this._insertTab(t,e,!0)},w.prototype.moveTab=function(t,e){return this._moveTab(t,e)},w.prototype.removeAt=function(t){return this._removeTab(t,!0)},w.prototype.removeTab=function(t){var e=this.indexOf(t);return-1!==e&&this._removeTab(e,!0),e},w.prototype.clearTabs=function(){for(;this.count;)this._removeTab(this.count-1,!1)},w.prototype.attachTab=function(t,e){if(-1===this.indexOf(t)){var i=this.contentNode,n=i.getBoundingClientRect(),o=e-n.left,r=o/(this._tabLayoutWidth()-this._tabOverlap);if(r=Math.max(0,Math.min(Math.round(r),this.count)),this._insertTab(r,t,!1),this.currentIndex=r,document.addEventListener("mouseup",this,!0),document.addEventListener("mousemove",this,!0),this._tabsMovable){var s=this._tabLayoutWidth(),a=Math.floor(.4*s),h=n.top+Math.floor(.5*n.height),u=c("default");this._dragData={node:t.node,pressX:e,pressY:h,offsetX:a,contentRect:n,cursorGrab:u,dragActive:!0,detachRequested:!1};var l=o-a,p=n.width-s,d=Math.max(0,Math.min(l,p)),_=t.node.style;i.classList.add(f),_.transition="none",_.left=d+"px",this.update(!0)}}},w.prototype.detachAt=function(t){return this._removeTab(t,!1)},w.prototype.sizeHint=function(){var t=0,e=this.count;return e>0&&(t=this._tabWidth*e-this._tabOverlap*(e-1)),new a(t,this.boxSizing.minHeight)},w.prototype.minSizeHint=function(){var t=0,e=this.count;return e>0&&(t=this._minTabWidth+x*(e-1)),new a(t,this.boxSizing.minHeight)},w.prototype.handleEvent=function(t){switch(t.type){case"click":this._evtClick(t);break;case"mousedown":this._evtMouseDown(t);break;case"mousemove":this._evtMouseMove(t);break;case"mouseup":this._evtMouseUp(t)}},Object.defineProperty(w.prototype,"contentNode",{get:function(){return this.node.firstChild.nextSibling},enumerable:!0,configurable:!0}),w.prototype.onAfterAttach=function(t){var e=this.node;e.addEventListener("mousedown",this),e.addEventListener("click",this)},w.prototype.onAfterDetach=function(t){var e=this.node;e.removeEventListener("mousedown",this),e.removeEventListener("click",this)},w.prototype.onResize=function(t){this.update(!0)},w.prototype.onUpdateRequest=function(t){var e=null;this._dragData&&this._dragData.dragActive&&(e=this._dragData.node);for(var i=0,n=this._tabs,o=this.width,r=this._tabOverlap,s=this._tabLayoutWidth(),a=0,h=n.length;h>a;++a){var c=n[a].node,u=c.style;if(c!==e){var l=s+x*(h-a-1);i+l>o&&(i=Math.max(0,o-l)),u.left=i+"px"}u.width=s+"px",i+=s-r}},w.prototype._evtClick=function(t){if(0===t.button){var e=this._hitTest(t.clientX,t.clientY);if(!(0>e)){t.preventDefault(),t.stopPropagation();var i=this._tabs[e];i.closable&&i.closeIconNode===t.target&&this.tabCloseRequested.emit(new s(e,i))}}},w.prototype._evtMouseDown=function(t){if(0===t.button){var e=t.clientX,i=t.clientY,n=this._hitTest(e,i);if(!(0>n)){t.preventDefault(),t.stopPropagation();var o=this._tabs[n];if(o.closeIconNode!==t.target){if(this._tabsMovable){var r=e-o.node.getBoundingClientRect().left;this._dragData={node:o.node,pressX:e,pressY:i,offsetX:r,contentRect:null,cursorGrab:null,dragActive:!1,detachRequested:!1}}this.currentIndex=n,document.addEventListener("mouseup",this,!0),document.addEventListener("mousemove",this,!0)}}}},w.prototype._evtMouseMove=function(t){if(t.preventDefault(),t.stopPropagation(),this._tabsMovable&&this._dragData){var e=t.clientX,n=t.clientY,o=this._dragData;if(!o.dragActive){var r=Math.abs(e-o.pressX),s=Math.abs(n-o.pressY);if(y>r&&y>s)return;var a=this.contentNode;o.contentRect=a.getBoundingClientRect(),o.cursorGrab=c("default"),o.dragActive=!0,a.classList.add(f),o.node.style.transition="none"}if(o.detachRequested||i(o.contentRect,g,e,n)||(o.detachRequested=!0,this.tabDetachRequested.emit({tab:this.currentTab,index:this.currentIndex,clientX:e,clientY:n}),this._dragData)){var h=this.currentIndex,u=this._tabLayoutWidth(),l=h*(u-this._tabOverlap),p=l-u*m,d=l+u*m,_=e-o.contentRect.left-o.offsetX,v=Math.max(0,Math.min(_,o.contentRect.width-u));p>v?this._moveTab(h,h-1):v>d&&this._moveTab(h,h+1),o.node.style.left=v+"px"}}},w.prototype._evtMouseUp=function(t){0===t.button&&(t.preventDefault(),t.stopPropagation(),this._releaseMouse())},w.prototype._releaseMouse=function(){var t=this,e=this._dragData;e&&(this._dragData=null,document.removeEventListener("mouseup",this,!0),document.removeEventListener("mousemove",this,!0),e.dragActive&&(e.cursorGrab.dispose(),e.node.style.transition="",this._withTransition(function(){return t.update(!0)})))},w.prototype._insertTab=function(t,e,i){var n=this;return t=o.insert(this._tabs,t,e),e.selected=!1,this.contentNode.appendChild(e.node),this._currentTab?this._updateTabZOrder():this.currentTab=e,this.isAttached?(i?this._withTransition(function(){e.addClass(_),n.update(!0)},function(){e.removeClass(_)}):this._withTransition(function(){return n.update(!0)}),this.updateGeometry(),t):t},w.prototype._moveTab=function(t,e){var i=this;return e=o.move(this._tabs,t,e),-1===e?-1:(this._updateTabZOrder(),this.tabMoved.emit(new s(t,e)),this.isAttached?(this._withTransition(function(){return i.update(!0)}),e):e)},w.prototype._removeTab=function(t,e){var i=this,r=this._tabs,a=o.removeAt(r,t);if(!a)return void 0;if(this._releaseMouse(),a.selected=!1,a.node.style.zIndex="0",a===this._currentTab){var h=this._previousTab||r[t]||r[t-1];this._currentTab=null,this._previousTab=null,h?this.currentTab=h:this.currentChanged.emit(new s(-1,void 0))}else a===this._previousTab?(this._previousTab=null,this._updateTabZOrder()):this._updateTabZOrder();var c=this.contentNode;return this.isAttached?(e?this._withTransition(function(){a.addClass(v),i.update(!0)},function(){a.removeClass(v),n(c,a.node)}):(n(c,a.node),this._withTransition(function(){return i.update(!0)})),this.updateGeometry(),a):(n(c,a.node),a)},w.prototype._hitTest=function(t,e){for(var i=this._tabs,n=0,o=i.length;o>n;++n)if(h(i[n].node,t,e))return n;return-1},w.prototype._tabLayoutWidth=function(){var t=this.count;if(0===t)return 0;var e=this._tabOverlap*(t-1),i=this._tabWidth*t-e;return this.width>=i?this._tabWidth:Math.max(this._minTabWidth,(this.width+e)/t)},w.prototype._updateTabZOrder=function(){for(var t=this._tabs,e=t.length-1,i=this._currentTab,n=0,o=t.length;o>n;++n){var r=t[n];r.node.style.zIndex=r===i?o+"":e--+""}},w.prototype._withTransition=function(t,e){var i=this,n=this.contentNode;n.classList.add(f),t&&t(),setTimeout(function(){i._dragData&&i._dragData.dragActive||n.classList.remove(f),e&&e()},b)},w.prototype._initFrom=function(t){void 0!==t.tabsMovable&&(this.tabsMovable=t.tabsMovable),void 0!==t.tabWidth&&(this.tabWidth=t.tabWidth),void 0!==t.minTabWidth&&(this.minTabWidth=t.minTabWidth),void 0!==t.tabOverlap&&(this.tabOverlap=t.tabOverlap)},__decorate([r],w.prototype,"tabMoved"),__decorate([r],w.prototype,"currentChanged"),__decorate([r],w.prototype,"tabCloseRequested"),__decorate([r],w.prototype,"tabDetachRequested"),w}(e.Widget);e.TabBar=w}(e=t.widgets||(t.widgets={}))}(phosphor||(phosphor={}));var __extends=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);i.prototype=e.prototype,t.prototype=new i},__decorate=this&&this.__decorate||function(t,e,i,n){if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)return Reflect.decorate(t,e,i,n);switch(arguments.length){case 2:return t.reduceRight(function(t,e){return e&&e(t)||t},e);case 3:return t.reduceRight(function(t,n){return void(n&&n(e,i))},void 0);case 4:return t.reduceRight(function(t,n){return n&&n(e,i,t)||t},n)}},phosphor;!function(t){var e;!function(e){var i=t.core.signal,n=t.utility.Pair,o="p-TabPanel",r=function(t){function r(){t.call(this),this.addClass(o),this.layout=new e.BoxLayout(e.Direction.TopToBottom,0),this.setFlag(e.WidgetFlag.DisallowLayoutChange);var i=this._tabBar=new e.TabBar;i.tabMoved.connect(this._p_tabMoved,this),i.currentChanged.connect(this._p_currentChanged,this),i.tabCloseRequested.connect(this._p_tabCloseRequested,this);var n=this._stackedPanel=new e.StackedPanel;n.widgetRemoved.connect(this._p_widgetRemoved,this),this.layout.addWidget(i),this.layout.addWidget(n)}return __extends(r,t),r.prototype.dispose=function(){this._tabBar=null,this._stackedPanel=null,t.prototype.dispose.call(this)},Object.defineProperty(r.prototype,"currentIndex",{get:function(){return this._stackedPanel.currentIndex},set:function(t){this._tabBar.currentIndex=t},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"currentWidget",{get:function(){return this._stackedPanel.currentWidget},set:function(t){this._tabBar.currentIndex=this.indexOf(t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"tabsMovable",{get:function(){return this._tabBar.tabsMovable},set:function(t){this._tabBar.tabsMovable=t},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"tabBar",{get:function(){return this._tabBar},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"count",{get:function(){return this._stackedPanel.count},enumerable:!0,configurable:!0}),r.prototype.indexOf=function(t){return this._stackedPanel.indexOf(t)},r.prototype.widgetAt=function(t){return this._stackedPanel.widgetAt(t)},r.prototype.addWidget=function(t,e){return this.insertWidget(this.count,t,e)},r.prototype.insertWidget=function(t,e,i){return t=this._stackedPanel.insertWidget(t,e,i),this._tabBar.insertTab(t,e.tab)},r.prototype.moveWidget=function(t,e){return this._tabBar.moveTab(t,e)},r.prototype._p_tabMoved=function(t){this._stackedPanel.moveWidget(t.first,t.second)},r.prototype._p_currentChanged=function(t){this._stackedPanel.currentIndex=t.first;var e=this._stackedPanel.currentWidget;this.currentChanged.emit(new n(t.first,e))},r.prototype._p_tabCloseRequested=function(t){this._stackedPanel.widgetAt(t.first).close()},r.prototype._p_widgetRemoved=function(t){this._tabBar.removeAt(t.first)},__decorate([i],r.prototype,"currentChanged"),r}(e.Widget);e.TabPanel=r}(e=t.widgets||(t.widgets={}))}(phosphor||(phosphor={}));var phosphor;!function(t){var e;!function(e){var i=t.di.Token;e.IPluginList=new i("phosphor.shell.IPluginList")}(e=t.shell||(t.shell={}))}(phosphor||(phosphor={}));var phosphor;!function(t){var e;!function(e){var i=t.di.Token;e.IShellView=new i("phosphor.shell.IShellView")}(e=t.shell||(t.shell={}))}(phosphor||(phosphor={}));var phosphor;!function(t){var e;!function(e){function i(t){s(t,c),o(t)}function n(t){a(t,c)}function o(t){t.setVisible(r(t))}function r(t){for(var e=0,i=t.childCount;i>e;++e)if(!t.childAt(e).isHidden)return!0;return!1}var s=t.core.installMessageFilter,a=t.core.removeMessageFilter;e.enableAutoHide=i,e.disableAutoHide=n;var h=function(){function t(){}return t.prototype.filterMessage=function(t,e){switch(e.type){case"child-added":case"child-removed":case"child-shown":case"child-hidden":o(t)}return!1},t}(),c=new h}(e=t.shell||(t.shell={}))}(phosphor||(phosphor={}));var phosphor;!function(t){var e;!function(e){var i=t.di.Container,n=t.di.IContainer,o=t.utility.createBoxSizing,r=function(){function t(){this._shell=null,this._container=null,this._pluginList=null}return Object.defineProperty(t.prototype,"container",{get:function(){return this._container},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pluginList",{get:function(){return this._pluginList},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"shell",{get:function(){return this._shell},enumerable:!0,configurable:!0}),t.prototype.run=function(){var t=this;this._container=this.createContainer(),this.configureContainer(),this._shell=this.createShell(),this.configureShell(),this._pluginList=this.createPluginList(),this.configurePlugins().then(function(){t.finalize()})["catch"](function(t){console.error("plugin initialization failed",t)})},t.prototype.createContainer=function(){return new i},t.prototype.createPluginList=function(){return this.container.resolve(e.IPluginList)},t.prototype.createShell=function(){return this.container.resolve(e.IShellView)},t.prototype.configureContainer=function(){var t=this.container;t.isRegistered(n)||t.registerInstance(n,t),t.isRegistered(e.IPluginList)||t.registerType(e.IPluginList,e.PluginList),t.isRegistered(e.IShellView)||t.registerType(e.IShellView,e.ShellView)},t.prototype.configurePlugins=function(){return Promise.resolve()},t.prototype.configureShell=function(){},t.prototype.finalize=function(){var t=this.shell,e=document.getElementById("main")||document.body,i=o(e),n=function(){return t.fit(void 0,void 0,i)};window.addEventListener("resize",n),t.attach(e),t.show(),n()},t}();e.Bootstrapper=r}(e=t.shell||(t.shell={}))}(phosphor||(phosphor={}));var phosphor;!function(t){var e;!function(e){function i(t,e){return t-e}var n=t.collections.algorithm,o=function(){function t(t){this._ranks=[],this._menu=t}return t.prototype.addItem=function(t,e){void 0===e&&(e=100),this.removeItem(t);var o=n.upperBound(this._ranks,e,i);n.insert(this._ranks,o,e),this._menu.insertItem(o,t)},t.prototype.removeItem=function(t){var e=this._menu.removeItem(t);-1!==e&&n.removeAt(this._ranks,e)},t}();e.MenuManager=o}(e=t.shell||(t.shell={}))}(phosphor||(phosphor={}));var phosphor;!function(t){var e;!function(e){var i=t.di.IContainer,n=function(){function t(t){this._plugins=[],this._container=t}return t.prototype.add=function(t){var e=this;return Promise.all(t).then(function(t){t.forEach(function(t){return e._addPlugin(t)})})},t.prototype.forEach=function(t){return this._plugins.forEach(function(e){return t(e)})},t.prototype._addPlugin=function(t){t.initialize(this._container),this._plugins.push(t)},t.$inject=[i],t}();e.PluginList=n}(e=t.shell||(t.shell={}))}(phosphor||(phosphor={}));var __extends=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);i.prototype=e.prototype,t.prototype=new i},phosphor;!function(t){var e;!function(e){function i(t,e){return t.second-e}var n=t.collections.algorithm,o=t.utility.Pair,r=t.widgets.BoxLayout,s=t.widgets.Widget,a=t.widgets.WidgetFlag,h="p-ShellPanel",c=function(t){function e(e){t.call(this),this._pairs=[],this.addClass(h),this.layout=new r(e,0),this.setFlag(a.DisallowLayoutChange)}return __extends(e,t),e.prototype.dispose=function(){this._pairs=null,t.prototype.dispose.call(this)},e.prototype.addWidget=function(t,e){void 0===e&&(e={}),t.parent=null;var r=e.stretch,s=e.alignment,a=void 0!==e.rank?e.rank:100,h=n.upperBound(this._pairs,a,i);n.insert(this._pairs,h,new o(t,a)),this.layout.insertWidget(h,t,r,s)},e.prototype.onChildRemoved=function(e){t.prototype.onChildRemoved.call(this,e);var i=n.findIndex(this._pairs,function(t){return t.first===e.child});-1!==i&&n.removeAt(this._pairs,i)},e}(s);e.ShellPanel=c}(e=t.shell||(t.shell={}))}(phosphor||(phosphor={}));var __extends=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);i.prototype=e.prototype,t.prototype=new i},phosphor;!function(t){var e;!function(e){var i=t.widgets.BoxLayout,n=t.widgets.Direction,o=t.widgets.MenuBar,r=t.widgets.Orientation,s=t.widgets.SizePolicy,a=t.widgets.SplitPanel,h=t.widgets.Widget,c=t.widgets.WidgetFlag,u="p-ShellView",l="p-mod-top",p="p-mod-left",d="p-mod-right",f="p-mod-bottom",_="p-mod-center",v=function(t){function h(){t.call(this),this.addClass(u),this._menuBar=new o,this._topPanel=new e.ShellPanel(n.TopToBottom),this._leftPanel=new e.ShellPanel(n.LeftToRight),this._rightPanel=new e.ShellPanel(n.RightToLeft),this._bottomPanel=new e.ShellPanel(n.BottomToTop),this._centerPanel=new e.ShellPanel(n.TopToBottom),this._menuManager=new e.MenuManager(this._menuBar),this._topPanel.addClass(l),this._leftPanel.addClass(p),this._rightPanel.addClass(d),this._bottomPanel.addClass(f),this._centerPanel.addClass(_),this._menuBar.hide(),this._topPanel.verticalSizePolicy=s.Fixed,e.enableAutoHide(this._topPanel),e.enableAutoHide(this._leftPanel),e.enableAutoHide(this._rightPanel),e.enableAutoHide(this._bottomPanel);var h=new a(r.Horizontal),v=new a(r.Vertical);h.handleSize=0,v.handleSize=0,h.addWidget(this._leftPanel),h.addWidget(this._centerPanel,1),h.addWidget(this._rightPanel),v.addWidget(h,1),v.addWidget(this._bottomPanel);var m=new i(n.TopToBottom,0);m.addWidget(this._menuBar),m.addWidget(this._topPanel),m.addWidget(v,1),this.layout=m,this.setFlag(c.DisallowLayoutChange)}return __extends(h,t),h.prototype.areas=function(){return["top","left","right","bottom","center"]},h.prototype.addWidget=function(t,e,i){switch(t){case"top":this._topPanel.addWidget(e,i);break;case"left":this._leftPanel.addWidget(e,i);break;case"right":this._rightPanel.addWidget(e,i);break;case"bottom":this._bottomPanel.addWidget(e,i);break;case"center":this._centerPanel.addWidget(e,i);break;default:throw new Error("invalid content area: "+t)}},h.prototype.addMenuItem=function(t,e){this._menuManager.addItem(t,e),this._menuBar.setVisible(this._menuBar.count>0)},h.prototype.removeMenuItem=function(t){this._menuManager.removeItem(t),this._menuBar.setVisible(this._menuBar.count>0)},h}(h);e.ShellView=v}(e=t.shell||(t.shell={}))}(phosphor||(phosphor={}));